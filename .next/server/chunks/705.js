"use strict";exports.id=705,exports.ids=[705],exports.modules={705:(e,r,s)=>{s.d(r,{Z:()=>LoginForm});var a=s(784),t=s(9885),n=s(7114),l=s(6645),i=s(3250),o=s(8626),d=s(8157);function LoginForm({onLoginSuccess:e}){let{login:r}=(0,d.useAuth)(),[s,c]=(0,t.useState)({username:"",password:""}),[m,u]=(0,t.useState)(!1),[x,p]=(0,t.useState)(!1),[h,y]=(0,t.useState)("");(0,n.useRouter)();let handleSubmit=async a=>{a.preventDefault(),p(!0),y("");try{let a=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}),t=await a.json();t.success?(r(t.user),e?.(t.user)):y(t.error||"Login failed")}catch(e){console.error("Login error:",e),y("An error occurred during login")}finally{p(!1)}},handleInputChange=e=>{let{name:r,value:s}=e.target;c(e=>({...e,[r]:s}))};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,a.jsxs)("div",{children:[a.jsx("div",{className:"mx-auto h-12 w-12 flex items-center justify-center rounded-full bg-primary-100",children:a.jsx(l.Z,{className:"h-6 w-6 text-primary-600"})}),a.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Sign in to your account"}),a.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Training Management System"})]}),(0,a.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:handleSubmit,children:[(0,a.jsxs)("div",{className:"rounded-md shadow-sm -space-y-px",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{htmlFor:"username",className:"sr-only",children:"Username"}),a.jsx("input",{id:"username",name:"username",type:"text",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm",placeholder:"Username",value:s.username,onChange:handleInputChange})]}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),a.jsx("input",{id:"password",name:"password",type:m?"text":"password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm",placeholder:"Password",value:s.password,onChange:handleInputChange}),a.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>u(!m),children:m?a.jsx(i.Z,{className:"h-5 w-5 text-gray-400"}):a.jsx(o.Z,{className:"h-5 w-5 text-gray-400"})})]})]}),h&&a.jsx("div",{className:"rounded-md bg-red-50 p-4",children:a.jsx("div",{className:"flex",children:a.jsx("div",{className:"ml-3",children:a.jsx("h3",{className:"text-sm font-medium text-red-800",children:h})})})}),a.jsx("div",{children:a.jsx("button",{type:"submit",disabled:x,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed",children:x?a.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):(0,a.jsxs)(a.Fragment,{children:[a.jsx("span",{className:"absolute left-0 inset-y-0 flex items-center pl-3",children:a.jsx(l.Z,{className:"h-5 w-5 text-primary-500 group-hover:text-primary-400"})}),"Sign in"]})})})]})]})})}}};