"use strict";(()=>{var e={};e.id=266,e.ids=[266],e.modules={8802:e=>{e.exports=require("bcrypt")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},8678:e=>{e.exports=import("pg")},3127:(e,t,r)=>{r.a(e,async(e,i)=>{try{r.r(t),r.d(t,{headerHooks:()=>l,originalPathname:()=>m,requestAsyncStorage:()=>u,routeModule:()=>c,serverHooks:()=>d,staticGenerationAsyncStorage:()=>p,staticGenerationBailout:()=>_});var a=r(884),s=r(6132),n=r(1332),o=e([n]);n=(o.then?(await o)():o)[0];let c=new a.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/participants/route",pathname:"/api/participants",filename:"route",bundlePath:"app/api/participants/route"},resolvedPagePath:"C:\\Users\\wesle\\OneDrive\\Documenten\\Wesley code\\Finance\\src\\app\\api\\participants\\route.ts",nextConfigOutput:"",userland:n}),{requestAsyncStorage:u,staticGenerationAsyncStorage:p,serverHooks:d,headerHooks:l,staticGenerationBailout:_}=c,m="/api/participants/route";i()}catch(e){i(e)}})},1332:(e,t,r)=>{r.a(e,async(e,i)=>{try{r.r(t),r.d(t,{GET:()=>GET,POST:()=>POST});var a=r(5798),s=r(5438),n=r(1538),o=r(1045),c=e([s]);s=(c.then?(await c)():c)[0];let u=n.Ry({name:n.Z_().min(1,"Name is required"),email:n.Z_().email("Invalid email"),company:n.Z_().min(1,"Company is required")});async function GET(e){try{let{searchParams:t}=new URL(e.url),r=t.get("training_invoice_id");if(!r)return a.Z.json({success:!1,error:"training_invoice_id is required"},{status:400});let i=parseInt(r);if(isNaN(i))return a.Z.json({success:!1,error:"Invalid training_invoice_id"},{status:400});let n=await (0,s.H3)(i);return a.Z.json({success:!0,data:n})}catch(e){return a.Z.json({success:!1,error:"Failed to fetch participants"},{status:500})}}async function POST(e){try{let{searchParams:t}=new URL(e.url),r=t.get("training_invoice_id");if(!r)return a.Z.json({success:!1,error:"training_invoice_id is required"},{status:400});let i=parseInt(r);if(isNaN(i))return a.Z.json({success:!1,error:"Invalid training_invoice_id"},{status:400});let n=await e.json(),o=u.parse(n),c=await (0,s.iR)({training_invoice_id:i,...o});return a.Z.json({success:!0,data:c},{status:201})}catch(e){if(e instanceof o.jm)return a.Z.json({success:!1,error:"Validation error",details:e.errors},{status:400});return a.Z.json({success:!1,error:"Failed to add participant"},{status:500})}}i()}catch(e){i(e)}})}};var t=require("../../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),r=t.X(0,[997,538,438],()=>__webpack_exec__(3127));module.exports=r})();