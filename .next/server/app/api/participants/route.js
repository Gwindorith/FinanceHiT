"use strict";(()=>{var e={};e.id=266,e.ids=[266],e.modules={5890:e=>{e.exports=require("better-sqlite3")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},1017:e=>{e.exports=require("path")},8366:(e,r,t)=>{t.r(r),t.d(r,{headerHooks:()=>m,originalPathname:()=>j,requestAsyncStorage:()=>l,routeModule:()=>d,serverHooks:()=>v,staticGenerationAsyncStorage:()=>_,staticGenerationBailout:()=>g});var i={};t.r(i),t.d(i,{GET:()=>GET,POST:()=>POST});var s=t(884),a=t(6132),n=t(5798),o=t(8307),c=t(1538),u=t(1045);let p=c.Ry({name:c.Z_().min(1,"Name is required"),email:c.Z_().email("Invalid email"),company:c.Z_().min(1,"Company is required")});async function GET(e){try{let{searchParams:r}=new URL(e.url),t=r.get("training_invoice_id");if(!t)return n.Z.json({success:!1,error:"training_invoice_id is required"},{status:400});let i=(0,o.N)(),s=parseInt(t);if(isNaN(s))return n.Z.json({success:!1,error:"Invalid training_invoice_id"},{status:400});let a=i.getParticipantsByInvoice(s);return n.Z.json({success:!0,data:a})}catch(e){return n.Z.json({success:!1,error:"Failed to fetch participants"},{status:500})}}async function POST(e){try{let{searchParams:r}=new URL(e.url),t=r.get("training_invoice_id");if(!t)return n.Z.json({success:!1,error:"training_invoice_id is required"},{status:400});let i=(0,o.N)(),s=parseInt(t);if(isNaN(s))return n.Z.json({success:!1,error:"Invalid training_invoice_id"},{status:400});let a=await e.json(),c=p.parse(a),u=i.addParticipant({training_invoice_id:s,...c});return n.Z.json({success:!0,data:u},{status:201})}catch(e){if(e instanceof u.jm)return n.Z.json({success:!1,error:"Validation error",details:e.errors},{status:400});return n.Z.json({success:!1,error:"Failed to add participant"},{status:500})}}let d=new s.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/participants/route",pathname:"/api/participants",filename:"route",bundlePath:"app/api/participants/route"},resolvedPagePath:"C:\\Users\\wesle\\OneDrive\\Documenten\\Wesley code\\Finance\\src\\app\\api\\participants\\route.ts",nextConfigOutput:"",userland:i}),{requestAsyncStorage:l,staticGenerationAsyncStorage:_,serverHooks:v,headerHooks:m,staticGenerationBailout:g}=d,j="/api/participants/route"}};var r=require("../../../webpack-runtime.js");r.C(e);var __webpack_exec__=e=>r(r.s=e),t=r.X(0,[542,307],()=>__webpack_exec__(8366));module.exports=t})();