"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/training-invoices/route";
exports.ids = ["app/api/training-invoices/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "pg":
/*!*********************!*\
  !*** external "pg" ***!
  \*********************/
/***/ ((module) => {

module.exports = import("pg");;

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Ftraining-invoices%2Froute&page=%2Fapi%2Ftraining-invoices%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Ftraining-invoices%2Froute.ts&appDir=C%3A%5CUsers%5Cwesle%5COneDrive%5CDocumenten%5CWesley%20code%5CFinance%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cwesle%5COneDrive%5CDocumenten%5CWesley%20code%5CFinance&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Ftraining-invoices%2Froute&page=%2Fapi%2Ftraining-invoices%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Ftraining-invoices%2Froute.ts&appDir=C%3A%5CUsers%5Cwesle%5COneDrive%5CDocumenten%5CWesley%20code%5CFinance%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cwesle%5COneDrive%5CDocumenten%5CWesley%20code%5CFinance&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var C_Users_wesle_OneDrive_Documenten_Wesley_code_Finance_src_app_api_training_invoices_route_ts__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./src/app/api/training-invoices/route.ts */ \"(rsc)/./src/app/api/training-invoices/route.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([C_Users_wesle_OneDrive_Documenten_Wesley_code_Finance_src_app_api_training_invoices_route_ts__WEBPACK_IMPORTED_MODULE_2__]);\nC_Users_wesle_OneDrive_Documenten_Wesley_code_Finance_src_app_api_training_invoices_route_ts__WEBPACK_IMPORTED_MODULE_2__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/training-invoices/route\",\n        pathname: \"/api/training-invoices\",\n        filename: \"route\",\n        bundlePath: \"app/api/training-invoices/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\wesle\\\\OneDrive\\\\Documenten\\\\Wesley code\\\\Finance\\\\src\\\\app\\\\api\\\\training-invoices\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_wesle_OneDrive_Documenten_Wesley_code_Finance_src_app_api_training_invoices_route_ts__WEBPACK_IMPORTED_MODULE_2__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/training-invoices/route\";\n\n\n//# sourceMappingURL=app-route.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZ0cmFpbmluZy1pbnZvaWNlcyUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGdHJhaW5pbmctaW52b2ljZXMlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZ0cmFpbmluZy1pbnZvaWNlcyUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUN3ZXNsZSU1Q09uZURyaXZlJTVDRG9jdW1lbnRlbiU1Q1dlc2xleSUyMGNvZGUlNUNGaW5hbmNlJTVDc3JjJTVDYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj1DJTNBJTVDVXNlcnMlNUN3ZXNsZSU1Q09uZURyaXZlJTVDRG9jdW1lbnRlbiU1Q1dlc2xleSUyMGNvZGUlNUNGaW5hbmNlJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNzRTtBQUNySTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLHVHQUF1RztBQUMvRztBQUNpSjs7QUFFakoscUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90cmFpbmluZy1pbnZvaWNpbmctYXBwLz9mOTc5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIkM6XFxcXFVzZXJzXFxcXHdlc2xlXFxcXE9uZURyaXZlXFxcXERvY3VtZW50ZW5cXFxcV2VzbGV5IGNvZGVcXFxcRmluYW5jZVxcXFxzcmNcXFxcYXBwXFxcXGFwaVxcXFx0cmFpbmluZy1pbnZvaWNlc1xcXFxyb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvdHJhaW5pbmctaW52b2ljZXMvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS90cmFpbmluZy1pbnZvaWNlc1wiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvdHJhaW5pbmctaW52b2ljZXMvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCJDOlxcXFxVc2Vyc1xcXFx3ZXNsZVxcXFxPbmVEcml2ZVxcXFxEb2N1bWVudGVuXFxcXFdlc2xleSBjb2RlXFxcXEZpbmFuY2VcXFxcc3JjXFxcXGFwcFxcXFxhcGlcXFxcdHJhaW5pbmctaW52b2ljZXNcXFxccm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgaGVhZGVySG9va3MsIHN0YXRpY0dlbmVyYXRpb25CYWlsb3V0IH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvdHJhaW5pbmctaW52b2ljZXMvcm91dGVcIjtcbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgaGVhZGVySG9va3MsIHN0YXRpY0dlbmVyYXRpb25CYWlsb3V0LCBvcmlnaW5hbFBhdGhuYW1lLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Ftraining-invoices%2Froute&page=%2Fapi%2Ftraining-invoices%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Ftraining-invoices%2Froute.ts&appDir=C%3A%5CUsers%5Cwesle%5COneDrive%5CDocumenten%5CWesley%20code%5CFinance%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cwesle%5COneDrive%5CDocumenten%5CWesley%20code%5CFinance&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/training-invoices/route.ts":
/*!************************************************!*\
  !*** ./src/app/api/training-invoices/route.ts ***!
  \************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/web/exports/next-response */ \"(rsc)/./node_modules/next/dist/server/web/exports/next-response.js\");\n/* harmony import */ var _lib_database_pg__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/database.pg */ \"(rsc)/./src/lib/database.pg.ts\");\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! zod */ \"(rsc)/./node_modules/zod/v3/types.js\");\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! zod */ \"(rsc)/./node_modules/zod/v3/ZodError.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_lib_database_pg__WEBPACK_IMPORTED_MODULE_1__]);\n_lib_database_pg__WEBPACK_IMPORTED_MODULE_1__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n// Validation schema for creating/updating training invoices\nconst TrainingInvoiceSchema = zod__WEBPACK_IMPORTED_MODULE_2__.object({\n    invoice_number: zod__WEBPACK_IMPORTED_MODULE_2__.string().optional(),\n    invoice_date: zod__WEBPACK_IMPORTED_MODULE_2__.string().optional(),\n    customer: zod__WEBPACK_IMPORTED_MODULE_2__.string().min(1, \"Customer is required\"),\n    training_name: zod__WEBPACK_IMPORTED_MODULE_2__.string().min(1, \"Training name is required\"),\n    training_dates: zod__WEBPACK_IMPORTED_MODULE_2__.array(zod__WEBPACK_IMPORTED_MODULE_2__.object({\n        date: zod__WEBPACK_IMPORTED_MODULE_2__.string().min(1, \"Date is required\"),\n        start_time: zod__WEBPACK_IMPORTED_MODULE_2__.string().min(1, \"Start time is required\"),\n        end_time: zod__WEBPACK_IMPORTED_MODULE_2__.string().min(1, \"End time is required\"),\n        room_rent_option_id: zod__WEBPACK_IMPORTED_MODULE_2__.number().nullable().optional(),\n        lunch_catering_option_id: zod__WEBPACK_IMPORTED_MODULE_2__.number().nullable().optional(),\n        dinner_catering_option_id: zod__WEBPACK_IMPORTED_MODULE_2__.number().nullable().optional()\n    })).min(1, \"At least one date is required\"),\n    trainer_costs: zod__WEBPACK_IMPORTED_MODULE_2__.number().min(0, \"Trainer costs must be non-negative\"),\n    office_costs: zod__WEBPACK_IMPORTED_MODULE_2__.number().min(0, \"Office costs must be non-negative\"),\n    margin_percentage: zod__WEBPACK_IMPORTED_MODULE_2__.number().min(0, \"Margin percentage must be non-negative\"),\n    total_invoice_amount: zod__WEBPACK_IMPORTED_MODULE_2__.number().min(0, \"Total invoice amount must be non-negative\"),\n    trainer_availability_emailed: zod__WEBPACK_IMPORTED_MODULE_2__.boolean().optional(),\n    masterclass_planning_added: zod__WEBPACK_IMPORTED_MODULE_2__.boolean().optional(),\n    lms_updated: zod__WEBPACK_IMPORTED_MODULE_2__.boolean().optional(),\n    navara_event_agenda_updated: zod__WEBPACK_IMPORTED_MODULE_2__.boolean().optional(),\n    catering_ordered: zod__WEBPACK_IMPORTED_MODULE_2__.boolean().optional(),\n    trainer_invoice_received: zod__WEBPACK_IMPORTED_MODULE_2__.boolean().optional()\n});\nasync function GET() {\n    try {\n        const invoices = await (0,_lib_database_pg__WEBPACK_IMPORTED_MODULE_1__.getAllTrainingInvoices)();\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            success: true,\n            data: invoices\n        });\n    } catch (error) {\n        console.error(\"Error fetching training invoices:\", error);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            success: false,\n            error: \"Failed to fetch training invoices\"\n        }, {\n            status: 500\n        });\n    }\n}\nasync function POST(request) {\n    try {\n        const body = await request.json();\n        // Validate input\n        const validatedData = TrainingInvoiceSchema.parse(body);\n        // Calculate duration as the number of unique dates\n        const uniqueDates = Array.from(new Set(validatedData.training_dates.map((d)=>d.date)));\n        const duration_days = uniqueDates.length;\n        // Calculate total invoice amount if not provided\n        let totalAmount = validatedData.total_invoice_amount;\n        if (!totalAmount) {\n            totalAmount = (0,_lib_database_pg__WEBPACK_IMPORTED_MODULE_1__.calculateTotalAmount)(validatedData.trainer_costs, validatedData.office_costs, validatedData.margin_percentage);\n        }\n        const invoice = await (0,_lib_database_pg__WEBPACK_IMPORTED_MODULE_1__.createTrainingInvoice)({\n            ...validatedData,\n            invoice_number: validatedData.invoice_number ?? \"\",\n            training_dates: validatedData.training_dates,\n            duration_days,\n            total_invoice_amount: totalAmount\n        });\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            success: true,\n            data: invoice\n        }, {\n            status: 201\n        });\n    } catch (error) {\n        console.error(\"Error creating training invoice:\", error);\n        if (error instanceof zod__WEBPACK_IMPORTED_MODULE_3__.ZodError) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                success: false,\n                error: \"Validation error\",\n                details: error.errors\n            }, {\n                status: 400\n            });\n        }\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            success: false,\n            error: \"Failed to create training invoice\"\n        }, {\n            status: 500\n        });\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS90cmFpbmluZy1pbnZvaWNlcy9yb3V0ZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBd0Q7QUFDaUU7QUFDakc7QUFFeEIsNERBQTREO0FBQzVELE1BQU1LLHdCQUF3QkQsdUNBQVEsQ0FBQztJQUNyQ0csZ0JBQWdCSCx1Q0FBUSxHQUFHSyxRQUFRO0lBQ25DQyxjQUFjTix1Q0FBUSxHQUFHSyxRQUFRO0lBQ2pDRSxVQUFVUCx1Q0FBUSxHQUFHUSxHQUFHLENBQUMsR0FBRztJQUM1QkMsZUFBZVQsdUNBQVEsR0FBR1EsR0FBRyxDQUFDLEdBQUc7SUFDakNFLGdCQUFnQlYsc0NBQU8sQ0FBQ0EsdUNBQVEsQ0FBQztRQUMvQlksTUFBTVosdUNBQVEsR0FBR1EsR0FBRyxDQUFDLEdBQUc7UUFDeEJLLFlBQVliLHVDQUFRLEdBQUdRLEdBQUcsQ0FBQyxHQUFHO1FBQzlCTSxVQUFVZCx1Q0FBUSxHQUFHUSxHQUFHLENBQUMsR0FBRztRQUM1Qk8scUJBQXFCZix1Q0FBUSxHQUFHaUIsUUFBUSxHQUFHWixRQUFRO1FBQ25EYSwwQkFBMEJsQix1Q0FBUSxHQUFHaUIsUUFBUSxHQUFHWixRQUFRO1FBQ3hEYywyQkFBMkJuQix1Q0FBUSxHQUFHaUIsUUFBUSxHQUFHWixRQUFRO0lBQzNELElBQUlHLEdBQUcsQ0FBQyxHQUFHO0lBQ1hZLGVBQWVwQix1Q0FBUSxHQUFHUSxHQUFHLENBQUMsR0FBRztJQUNqQ2EsY0FBY3JCLHVDQUFRLEdBQUdRLEdBQUcsQ0FBQyxHQUFHO0lBQ2hDYyxtQkFBbUJ0Qix1Q0FBUSxHQUFHUSxHQUFHLENBQUMsR0FBRztJQUNyQ2Usc0JBQXNCdkIsdUNBQVEsR0FBR1EsR0FBRyxDQUFDLEdBQUc7SUFDeENnQiw4QkFBOEJ4Qix3Q0FBUyxHQUFHSyxRQUFRO0lBQ2xEcUIsNEJBQTRCMUIsd0NBQVMsR0FBR0ssUUFBUTtJQUNoRHNCLGFBQWEzQix3Q0FBUyxHQUFHSyxRQUFRO0lBQ2pDdUIsNkJBQTZCNUIsd0NBQVMsR0FBR0ssUUFBUTtJQUNqRHdCLGtCQUFrQjdCLHdDQUFTLEdBQUdLLFFBQVE7SUFDdEN5QiwwQkFBMEI5Qix3Q0FBUyxHQUFHSyxRQUFRO0FBQ2hEO0FBRU8sZUFBZTBCO0lBQ3BCLElBQUk7UUFDRixNQUFNQyxXQUFXLE1BQU1uQyx3RUFBc0JBO1FBRTdDLE9BQU9ELGtGQUFZQSxDQUFDcUMsSUFBSSxDQUFDO1lBQUVDLFNBQVM7WUFBTUMsTUFBTUg7UUFBUztJQUMzRCxFQUFFLE9BQU9JLE9BQU87UUFDZEMsUUFBUUQsS0FBSyxDQUFDLHFDQUFxQ0E7UUFDbkQsT0FBT3hDLGtGQUFZQSxDQUFDcUMsSUFBSSxDQUN0QjtZQUFFQyxTQUFTO1lBQU9FLE9BQU87UUFBb0MsR0FDN0Q7WUFBRUUsUUFBUTtRQUFJO0lBRWxCO0FBQ0Y7QUFFTyxlQUFlQyxLQUFLQyxPQUFvQjtJQUM3QyxJQUFJO1FBQ0YsTUFBTUMsT0FBTyxNQUFNRCxRQUFRUCxJQUFJO1FBRS9CLGlCQUFpQjtRQUNqQixNQUFNUyxnQkFBZ0J6QyxzQkFBc0IwQyxLQUFLLENBQUNGO1FBRWxELG1EQUFtRDtRQUNuRCxNQUFNRyxjQUFjQyxNQUFNQyxJQUFJLENBQUMsSUFBSUMsSUFBSUwsY0FBY2hDLGNBQWMsQ0FBQ3NDLEdBQUcsQ0FBQ0MsQ0FBQUEsSUFBS0EsRUFBRXJDLElBQUk7UUFDbkYsTUFBTXNDLGdCQUFnQk4sWUFBWU8sTUFBTTtRQUV4QyxpREFBaUQ7UUFDakQsSUFBSUMsY0FBY1YsY0FBY25CLG9CQUFvQjtRQUNwRCxJQUFJLENBQUM2QixhQUFhO1lBQ2hCQSxjQUFjckQsc0VBQW9CQSxDQUNoQzJDLGNBQWN0QixhQUFhLEVBQzNCc0IsY0FBY3JCLFlBQVksRUFDMUJxQixjQUFjcEIsaUJBQWlCO1FBRW5DO1FBRUEsTUFBTStCLFVBQVUsTUFBTXZELHVFQUFxQkEsQ0FBQztZQUMxQyxHQUFHNEMsYUFBYTtZQUNoQnZDLGdCQUFnQnVDLGNBQWN2QyxjQUFjLElBQUk7WUFDaERPLGdCQUFnQmdDLGNBQWNoQyxjQUFjO1lBQzVDd0M7WUFDQTNCLHNCQUFzQjZCO1FBQ3hCO1FBRUEsT0FBT3hELGtGQUFZQSxDQUFDcUMsSUFBSSxDQUFDO1lBQUVDLFNBQVM7WUFBTUMsTUFBTWtCO1FBQVEsR0FBRztZQUFFZixRQUFRO1FBQUk7SUFDM0UsRUFBRSxPQUFPRixPQUFPO1FBQ2RDLFFBQVFELEtBQUssQ0FBQyxvQ0FBb0NBO1FBRWxELElBQUlBLGlCQUFpQnBDLHlDQUFVLEVBQUU7WUFDL0IsT0FBT0osa0ZBQVlBLENBQUNxQyxJQUFJLENBQ3RCO2dCQUFFQyxTQUFTO2dCQUFPRSxPQUFPO2dCQUFvQm1CLFNBQVNuQixNQUFNb0IsTUFBTTtZQUFDLEdBQ25FO2dCQUFFbEIsUUFBUTtZQUFJO1FBRWxCO1FBRUEsT0FBTzFDLGtGQUFZQSxDQUFDcUMsSUFBSSxDQUN0QjtZQUFFQyxTQUFTO1lBQU9FLE9BQU87UUFBb0MsR0FDN0Q7WUFBRUUsUUFBUTtRQUFJO0lBRWxCO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90cmFpbmluZy1pbnZvaWNpbmctYXBwLy4vc3JjL2FwcC9hcGkvdHJhaW5pbmctaW52b2ljZXMvcm91dGUudHM/M2RiMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInO1xyXG5pbXBvcnQgeyBnZXRBbGxUcmFpbmluZ0ludm9pY2VzLCBjcmVhdGVUcmFpbmluZ0ludm9pY2UsIGNhbGN1bGF0ZVRvdGFsQW1vdW50LCBUcmFpbmluZ0ludm9pY2UgfSBmcm9tICdAL2xpYi9kYXRhYmFzZS5wZyc7XHJcbmltcG9ydCB7IHogfSBmcm9tICd6b2QnO1xyXG5cclxuLy8gVmFsaWRhdGlvbiBzY2hlbWEgZm9yIGNyZWF0aW5nL3VwZGF0aW5nIHRyYWluaW5nIGludm9pY2VzXHJcbmNvbnN0IFRyYWluaW5nSW52b2ljZVNjaGVtYSA9IHoub2JqZWN0KHtcclxuICBpbnZvaWNlX251bWJlcjogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxyXG4gIGludm9pY2VfZGF0ZTogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxyXG4gIGN1c3RvbWVyOiB6LnN0cmluZygpLm1pbigxLCAnQ3VzdG9tZXIgaXMgcmVxdWlyZWQnKSxcclxuICB0cmFpbmluZ19uYW1lOiB6LnN0cmluZygpLm1pbigxLCAnVHJhaW5pbmcgbmFtZSBpcyByZXF1aXJlZCcpLFxyXG4gIHRyYWluaW5nX2RhdGVzOiB6LmFycmF5KHoub2JqZWN0KHtcclxuICAgIGRhdGU6IHouc3RyaW5nKCkubWluKDEsICdEYXRlIGlzIHJlcXVpcmVkJyksXHJcbiAgICBzdGFydF90aW1lOiB6LnN0cmluZygpLm1pbigxLCAnU3RhcnQgdGltZSBpcyByZXF1aXJlZCcpLFxyXG4gICAgZW5kX3RpbWU6IHouc3RyaW5nKCkubWluKDEsICdFbmQgdGltZSBpcyByZXF1aXJlZCcpLFxyXG4gICAgcm9vbV9yZW50X29wdGlvbl9pZDogei5udW1iZXIoKS5udWxsYWJsZSgpLm9wdGlvbmFsKCksXHJcbiAgICBsdW5jaF9jYXRlcmluZ19vcHRpb25faWQ6IHoubnVtYmVyKCkubnVsbGFibGUoKS5vcHRpb25hbCgpLFxyXG4gICAgZGlubmVyX2NhdGVyaW5nX29wdGlvbl9pZDogei5udW1iZXIoKS5udWxsYWJsZSgpLm9wdGlvbmFsKCksXHJcbiAgfSkpLm1pbigxLCAnQXQgbGVhc3Qgb25lIGRhdGUgaXMgcmVxdWlyZWQnKSxcclxuICB0cmFpbmVyX2Nvc3RzOiB6Lm51bWJlcigpLm1pbigwLCAnVHJhaW5lciBjb3N0cyBtdXN0IGJlIG5vbi1uZWdhdGl2ZScpLFxyXG4gIG9mZmljZV9jb3N0czogei5udW1iZXIoKS5taW4oMCwgJ09mZmljZSBjb3N0cyBtdXN0IGJlIG5vbi1uZWdhdGl2ZScpLFxyXG4gIG1hcmdpbl9wZXJjZW50YWdlOiB6Lm51bWJlcigpLm1pbigwLCAnTWFyZ2luIHBlcmNlbnRhZ2UgbXVzdCBiZSBub24tbmVnYXRpdmUnKSxcclxuICB0b3RhbF9pbnZvaWNlX2Ftb3VudDogei5udW1iZXIoKS5taW4oMCwgJ1RvdGFsIGludm9pY2UgYW1vdW50IG11c3QgYmUgbm9uLW5lZ2F0aXZlJyksXHJcbiAgdHJhaW5lcl9hdmFpbGFiaWxpdHlfZW1haWxlZDogei5ib29sZWFuKCkub3B0aW9uYWwoKSxcclxuICBtYXN0ZXJjbGFzc19wbGFubmluZ19hZGRlZDogei5ib29sZWFuKCkub3B0aW9uYWwoKSxcclxuICBsbXNfdXBkYXRlZDogei5ib29sZWFuKCkub3B0aW9uYWwoKSxcclxuICBuYXZhcmFfZXZlbnRfYWdlbmRhX3VwZGF0ZWQ6IHouYm9vbGVhbigpLm9wdGlvbmFsKCksXHJcbiAgY2F0ZXJpbmdfb3JkZXJlZDogei5ib29sZWFuKCkub3B0aW9uYWwoKSxcclxuICB0cmFpbmVyX2ludm9pY2VfcmVjZWl2ZWQ6IHouYm9vbGVhbigpLm9wdGlvbmFsKCksXHJcbn0pO1xyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVCgpIHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgaW52b2ljZXMgPSBhd2FpdCBnZXRBbGxUcmFpbmluZ0ludm9pY2VzKCk7XHJcbiAgICBcclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IGludm9pY2VzIH0pO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyB0cmFpbmluZyBpbnZvaWNlczonLCBlcnJvcik7XHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnRmFpbGVkIHRvIGZldGNoIHRyYWluaW5nIGludm9pY2VzJyB9LFxyXG4gICAgICB7IHN0YXR1czogNTAwIH1cclxuICAgICk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBib2R5ID0gYXdhaXQgcmVxdWVzdC5qc29uKCk7XHJcbiAgICBcclxuICAgIC8vIFZhbGlkYXRlIGlucHV0XHJcbiAgICBjb25zdCB2YWxpZGF0ZWREYXRhID0gVHJhaW5pbmdJbnZvaWNlU2NoZW1hLnBhcnNlKGJvZHkpO1xyXG4gICAgXHJcbiAgICAvLyBDYWxjdWxhdGUgZHVyYXRpb24gYXMgdGhlIG51bWJlciBvZiB1bmlxdWUgZGF0ZXNcclxuICAgIGNvbnN0IHVuaXF1ZURhdGVzID0gQXJyYXkuZnJvbShuZXcgU2V0KHZhbGlkYXRlZERhdGEudHJhaW5pbmdfZGF0ZXMubWFwKGQgPT4gZC5kYXRlKSkpO1xyXG4gICAgY29uc3QgZHVyYXRpb25fZGF5cyA9IHVuaXF1ZURhdGVzLmxlbmd0aDtcclxuXHJcbiAgICAvLyBDYWxjdWxhdGUgdG90YWwgaW52b2ljZSBhbW91bnQgaWYgbm90IHByb3ZpZGVkXHJcbiAgICBsZXQgdG90YWxBbW91bnQgPSB2YWxpZGF0ZWREYXRhLnRvdGFsX2ludm9pY2VfYW1vdW50O1xyXG4gICAgaWYgKCF0b3RhbEFtb3VudCkge1xyXG4gICAgICB0b3RhbEFtb3VudCA9IGNhbGN1bGF0ZVRvdGFsQW1vdW50KFxyXG4gICAgICAgIHZhbGlkYXRlZERhdGEudHJhaW5lcl9jb3N0cyxcclxuICAgICAgICB2YWxpZGF0ZWREYXRhLm9mZmljZV9jb3N0cyxcclxuICAgICAgICB2YWxpZGF0ZWREYXRhLm1hcmdpbl9wZXJjZW50YWdlXHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGNvbnN0IGludm9pY2UgPSBhd2FpdCBjcmVhdGVUcmFpbmluZ0ludm9pY2Uoe1xyXG4gICAgICAuLi52YWxpZGF0ZWREYXRhLFxyXG4gICAgICBpbnZvaWNlX251bWJlcjogdmFsaWRhdGVkRGF0YS5pbnZvaWNlX251bWJlciA/PyAnJyxcclxuICAgICAgdHJhaW5pbmdfZGF0ZXM6IHZhbGlkYXRlZERhdGEudHJhaW5pbmdfZGF0ZXMsXHJcbiAgICAgIGR1cmF0aW9uX2RheXMsXHJcbiAgICAgIHRvdGFsX2ludm9pY2VfYW1vdW50OiB0b3RhbEFtb3VudCxcclxuICAgIH0pO1xyXG4gICAgXHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBzdWNjZXNzOiB0cnVlLCBkYXRhOiBpbnZvaWNlIH0sIHsgc3RhdHVzOiAyMDEgfSk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNyZWF0aW5nIHRyYWluaW5nIGludm9pY2U6JywgZXJyb3IpO1xyXG4gICAgXHJcbiAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiB6LlpvZEVycm9yKSB7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ1ZhbGlkYXRpb24gZXJyb3InLCBkZXRhaWxzOiBlcnJvci5lcnJvcnMgfSxcclxuICAgICAgICB7IHN0YXR1czogNDAwIH1cclxuICAgICAgKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ0ZhaWxlZCB0byBjcmVhdGUgdHJhaW5pbmcgaW52b2ljZScgfSxcclxuICAgICAgeyBzdGF0dXM6IDUwMCB9XHJcbiAgICApO1xyXG4gIH1cclxufSAiXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwiZ2V0QWxsVHJhaW5pbmdJbnZvaWNlcyIsImNyZWF0ZVRyYWluaW5nSW52b2ljZSIsImNhbGN1bGF0ZVRvdGFsQW1vdW50IiwieiIsIlRyYWluaW5nSW52b2ljZVNjaGVtYSIsIm9iamVjdCIsImludm9pY2VfbnVtYmVyIiwic3RyaW5nIiwib3B0aW9uYWwiLCJpbnZvaWNlX2RhdGUiLCJjdXN0b21lciIsIm1pbiIsInRyYWluaW5nX25hbWUiLCJ0cmFpbmluZ19kYXRlcyIsImFycmF5IiwiZGF0ZSIsInN0YXJ0X3RpbWUiLCJlbmRfdGltZSIsInJvb21fcmVudF9vcHRpb25faWQiLCJudW1iZXIiLCJudWxsYWJsZSIsImx1bmNoX2NhdGVyaW5nX29wdGlvbl9pZCIsImRpbm5lcl9jYXRlcmluZ19vcHRpb25faWQiLCJ0cmFpbmVyX2Nvc3RzIiwib2ZmaWNlX2Nvc3RzIiwibWFyZ2luX3BlcmNlbnRhZ2UiLCJ0b3RhbF9pbnZvaWNlX2Ftb3VudCIsInRyYWluZXJfYXZhaWxhYmlsaXR5X2VtYWlsZWQiLCJib29sZWFuIiwibWFzdGVyY2xhc3NfcGxhbm5pbmdfYWRkZWQiLCJsbXNfdXBkYXRlZCIsIm5hdmFyYV9ldmVudF9hZ2VuZGFfdXBkYXRlZCIsImNhdGVyaW5nX29yZGVyZWQiLCJ0cmFpbmVyX2ludm9pY2VfcmVjZWl2ZWQiLCJHRVQiLCJpbnZvaWNlcyIsImpzb24iLCJzdWNjZXNzIiwiZGF0YSIsImVycm9yIiwiY29uc29sZSIsInN0YXR1cyIsIlBPU1QiLCJyZXF1ZXN0IiwiYm9keSIsInZhbGlkYXRlZERhdGEiLCJwYXJzZSIsInVuaXF1ZURhdGVzIiwiQXJyYXkiLCJmcm9tIiwiU2V0IiwibWFwIiwiZCIsImR1cmF0aW9uX2RheXMiLCJsZW5ndGgiLCJ0b3RhbEFtb3VudCIsImludm9pY2UiLCJab2RFcnJvciIsImRldGFpbHMiLCJlcnJvcnMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/training-invoices/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/database.pg.ts":
/*!********************************!*\
  !*** ./src/lib/database.pg.ts ***!
  \********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addParticipant: () => (/* binding */ addParticipant),\n/* harmony export */   calculateTotalAmount: () => (/* binding */ calculateTotalAmount),\n/* harmony export */   createCateringOption: () => (/* binding */ createCateringOption),\n/* harmony export */   createTrainingInvoice: () => (/* binding */ createTrainingInvoice),\n/* harmony export */   createTrainingRoomRentOption: () => (/* binding */ createTrainingRoomRentOption),\n/* harmony export */   createUser: () => (/* binding */ createUser),\n/* harmony export */   deleteCateringOption: () => (/* binding */ deleteCateringOption),\n/* harmony export */   deleteParticipant: () => (/* binding */ deleteParticipant),\n/* harmony export */   deleteTrainingInvoice: () => (/* binding */ deleteTrainingInvoice),\n/* harmony export */   deleteTrainingRoomRentOption: () => (/* binding */ deleteTrainingRoomRentOption),\n/* harmony export */   deleteUser: () => (/* binding */ deleteUser),\n/* harmony export */   getAllCateringOptions: () => (/* binding */ getAllCateringOptions),\n/* harmony export */   getAllTrainingInvoices: () => (/* binding */ getAllTrainingInvoices),\n/* harmony export */   getAllTrainingRoomRentOptions: () => (/* binding */ getAllTrainingRoomRentOptions),\n/* harmony export */   getAllUsers: () => (/* binding */ getAllUsers),\n/* harmony export */   getCateringOptionById: () => (/* binding */ getCateringOptionById),\n/* harmony export */   getParticipantById: () => (/* binding */ getParticipantById),\n/* harmony export */   getParticipantsByInvoice: () => (/* binding */ getParticipantsByInvoice),\n/* harmony export */   getTrainingInvoiceById: () => (/* binding */ getTrainingInvoiceById),\n/* harmony export */   getTrainingRoomRentOptionById: () => (/* binding */ getTrainingRoomRentOptionById),\n/* harmony export */   getUserById: () => (/* binding */ getUserById),\n/* harmony export */   getUserByUsername: () => (/* binding */ getUserByUsername),\n/* harmony export */   initializeDefaultAdmin: () => (/* binding */ initializeDefaultAdmin),\n/* harmony export */   updateCateringOption: () => (/* binding */ updateCateringOption),\n/* harmony export */   updateParticipant: () => (/* binding */ updateParticipant),\n/* harmony export */   updateTrainingInvoice: () => (/* binding */ updateTrainingInvoice),\n/* harmony export */   updateTrainingRoomRentOption: () => (/* binding */ updateTrainingRoomRentOption),\n/* harmony export */   updateUser: () => (/* binding */ updateUser),\n/* harmony export */   updateUserPassword: () => (/* binding */ updateUserPassword)\n/* harmony export */ });\n/* harmony import */ var pg__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pg */ \"pg\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! bcryptjs */ \"(rsc)/./node_modules/bcryptjs/index.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([pg__WEBPACK_IMPORTED_MODULE_0__]);\npg__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\nconst pool = new pg__WEBPACK_IMPORTED_MODULE_0__.Pool({\n    connectionString: process.env.DATABASE_URL,\n    ssl: process.env.DATABASE_URL?.includes(\"localhost\") ? false : {\n        rejectUnauthorized: false\n    }\n});\nasync function getAllTrainingInvoices() {\n    const res = await pool.query(\"SELECT * FROM training_invoices ORDER BY created_at DESC\");\n    return res.rows.map(deserializeInvoice);\n}\nasync function getTrainingInvoiceById(id) {\n    const res = await pool.query(\"SELECT * FROM training_invoices WHERE id = $1\", [\n        id\n    ]);\n    return res.rows[0] ? deserializeInvoice(res.rows[0]) : undefined;\n}\nasync function createTrainingInvoice(invoice) {\n    const res = await pool.query(`INSERT INTO training_invoices \r\n      (invoice_number, invoice_date, customer, training_name, training_dates, duration_days, trainer_costs, office_costs, margin_percentage, total_invoice_amount, trainer_availability_emailed, masterclass_planning_added, lms_updated, navara_event_agenda_updated, catering_ordered, trainer_invoice_received)\r\n      VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16)\r\n      RETURNING *`, [\n        invoice.invoice_number ?? \"\",\n        invoice.invoice_date ?? \"\",\n        invoice.customer,\n        invoice.training_name,\n        JSON.stringify(invoice.training_dates),\n        invoice.duration_days,\n        invoice.trainer_costs,\n        invoice.office_costs,\n        invoice.margin_percentage,\n        invoice.total_invoice_amount,\n        invoice.trainer_availability_emailed ?? false,\n        invoice.masterclass_planning_added ?? false,\n        invoice.lms_updated ?? false,\n        invoice.navara_event_agenda_updated ?? false,\n        invoice.catering_ordered ?? false,\n        invoice.trainer_invoice_received ?? false\n    ]);\n    return deserializeInvoice(res.rows[0]);\n}\nasync function updateTrainingInvoice(id, invoice) {\n    const current = await getTrainingInvoiceById(id);\n    if (!current) return undefined;\n    const updated = {\n        ...current,\n        ...invoice\n    };\n    const res = await pool.query(`UPDATE training_invoices SET\r\n      invoice_number = $1,\r\n      invoice_date = $2,\r\n      customer = $3,\r\n      training_name = $4,\r\n      training_dates = $5,\r\n      duration_days = $6,\r\n      trainer_costs = $7,\r\n      office_costs = $8,\r\n      margin_percentage = $9,\r\n      total_invoice_amount = $10,\r\n      trainer_availability_emailed = $11,\r\n      masterclass_planning_added = $12,\r\n      lms_updated = $13,\r\n      navara_event_agenda_updated = $14,\r\n      catering_ordered = $15,\r\n      trainer_invoice_received = $16,\r\n      updated_at = NOW()\r\n    WHERE id = $17 RETURNING *`, [\n        updated.invoice_number ?? \"\",\n        updated.invoice_date ?? \"\",\n        updated.customer,\n        updated.training_name,\n        JSON.stringify(updated.training_dates),\n        updated.duration_days,\n        updated.trainer_costs,\n        updated.office_costs,\n        updated.margin_percentage,\n        updated.total_invoice_amount,\n        updated.trainer_availability_emailed ?? false,\n        updated.masterclass_planning_added ?? false,\n        updated.lms_updated ?? false,\n        updated.navara_event_agenda_updated ?? false,\n        updated.catering_ordered ?? false,\n        updated.trainer_invoice_received ?? false,\n        id\n    ]);\n    return deserializeInvoice(res.rows[0]);\n}\nasync function deleteTrainingInvoice(id) {\n    const res = await pool.query(\"DELETE FROM training_invoices WHERE id = $1\", [\n        id\n    ]);\n    return (res.rowCount ?? 0) > 0;\n}\nasync function getParticipantsByInvoice(training_invoice_id) {\n    const res = await pool.query(\"SELECT * FROM participants WHERE training_invoice_id = $1 ORDER BY id ASC\", [\n        training_invoice_id\n    ]);\n    return res.rows;\n}\nasync function addParticipant(participant) {\n    const res = await pool.query(\"INSERT INTO participants (training_invoice_id, name, email, company) VALUES ($1, $2, $3, $4) RETURNING *\", [\n        participant.training_invoice_id,\n        participant.name,\n        participant.email,\n        participant.company\n    ]);\n    return res.rows[0];\n}\nasync function updateParticipant(id, participant) {\n    const current = await getParticipantById(id);\n    if (!current) return undefined;\n    const updated = {\n        ...current,\n        ...participant\n    };\n    const res = await pool.query(\"UPDATE participants SET name = $1, email = $2, company = $3 WHERE id = $4 RETURNING *\", [\n        updated.name,\n        updated.email,\n        updated.company,\n        id\n    ]);\n    return res.rows[0];\n}\nasync function getParticipantById(id) {\n    const res = await pool.query(\"SELECT * FROM participants WHERE id = $1\", [\n        id\n    ]);\n    return res.rows[0];\n}\nasync function deleteParticipant(id) {\n    const res = await pool.query(\"DELETE FROM participants WHERE id = $1\", [\n        id\n    ]);\n    return (res.rowCount ?? 0) > 0;\n}\nfunction calculateTotalAmount(trainerCosts, officeCosts, marginPercentage) {\n    const marginAmount = trainerCosts * (marginPercentage / 100);\n    return trainerCosts + officeCosts + marginAmount;\n}\nfunction deserializeInvoice(row) {\n    return {\n        ...row,\n        training_dates: typeof row.training_dates === \"string\" ? JSON.parse(row.training_dates) : row.training_dates,\n        trainer_costs: Number(row.trainer_costs),\n        office_costs: Number(row.office_costs),\n        margin_percentage: Number(row.margin_percentage),\n        total_invoice_amount: Number(row.total_invoice_amount),\n        trainer_availability_emailed: Boolean(row.trainer_availability_emailed),\n        masterclass_planning_added: Boolean(row.masterclass_planning_added),\n        lms_updated: Boolean(row.lms_updated),\n        navara_event_agenda_updated: Boolean(row.navara_event_agenda_updated),\n        catering_ordered: Boolean(row.catering_ordered),\n        trainer_invoice_received: Boolean(row.trainer_invoice_received)\n    };\n}\n// User management functions\nasync function getAllUsers() {\n    const res = await pool.query(\"SELECT id, username, email, role, name, created_at, updated_at FROM users ORDER BY created_at DESC\");\n    return res.rows;\n}\nasync function getUserById(id) {\n    const res = await pool.query(\"SELECT id, username, email, role, name, created_at, updated_at FROM users WHERE id = $1\", [\n        id\n    ]);\n    return res.rows[0];\n}\nasync function getUserByUsername(username) {\n    const res = await pool.query(\"SELECT * FROM users WHERE username = $1\", [\n        username\n    ]);\n    return res.rows[0];\n}\nasync function createUser(user) {\n    const res = await pool.query(\"INSERT INTO users (username, email, password, role, name) VALUES ($1, $2, $3, $4, $5) RETURNING id, username, email, role, name, created_at, updated_at\", [\n        user.username,\n        user.email,\n        user.password,\n        user.role,\n        user.name\n    ]);\n    return res.rows[0];\n}\nasync function updateUser(id, user) {\n    const current = await getUserById(id);\n    if (!current) return undefined;\n    const fields = [];\n    const values = [];\n    let paramCount = 1;\n    if (user.username !== undefined) {\n        fields.push(`username = $${paramCount++}`);\n        values.push(user.username);\n    }\n    if (user.email !== undefined) {\n        fields.push(`email = $${paramCount++}`);\n        values.push(user.email);\n    }\n    if (user.role !== undefined) {\n        fields.push(`role = $${paramCount++}`);\n        values.push(user.role);\n    }\n    if (user.name !== undefined) {\n        fields.push(`name = $${paramCount++}`);\n        values.push(user.name);\n    }\n    if (fields.length === 0) return current;\n    fields.push(`updated_at = NOW()`);\n    values.push(id);\n    const res = await pool.query(`UPDATE users SET ${fields.join(\", \")} WHERE id = $${paramCount} RETURNING id, username, email, role, name, created_at, updated_at`, values);\n    return res.rows[0];\n}\nasync function updateUserPassword(id, password) {\n    const res = await pool.query(\"UPDATE users SET password = $1, updated_at = NOW() WHERE id = $2\", [\n        password,\n        id\n    ]);\n    return (res.rowCount ?? 0) > 0;\n}\nasync function deleteUser(id) {\n    const res = await pool.query(\"DELETE FROM users WHERE id = $1\", [\n        id\n    ]);\n    return (res.rowCount ?? 0) > 0;\n}\nasync function initializeDefaultAdmin() {\n    // Check if admin user already exists\n    const existingAdmin = await getUserByUsername(\"admin\");\n    if (existingAdmin) return;\n    // Create default admin user\n    const hashedPassword = await bcryptjs__WEBPACK_IMPORTED_MODULE_1__[\"default\"].hash(\"admin\", 10);\n    await createUser({\n        username: \"admin\",\n        email: \"admin@example.com\",\n        password: hashedPassword,\n        role: \"admin\",\n        name: \"Administrator\"\n    });\n}\n// Catering options management functions\nasync function getAllCateringOptions() {\n    const res = await pool.query(\"SELECT * FROM catering_options ORDER BY name ASC\");\n    return res.rows.map((row)=>({\n            ...row,\n            lunch_price_per_participant: Number(row.lunch_price_per_participant),\n            dinner_price_per_participant: Number(row.dinner_price_per_participant),\n            is_active: Boolean(row.is_active)\n        }));\n}\nasync function getCateringOptionById(id) {\n    const res = await pool.query(\"SELECT * FROM catering_options WHERE id = $1\", [\n        id\n    ]);\n    if (!res.rows[0]) return undefined;\n    const row = res.rows[0];\n    return {\n        ...row,\n        lunch_price_per_participant: Number(row.lunch_price_per_participant),\n        dinner_price_per_participant: Number(row.dinner_price_per_participant),\n        is_active: Boolean(row.is_active)\n    };\n}\nasync function createCateringOption(cateringOption) {\n    const res = await pool.query(\"INSERT INTO catering_options (name, description, lunch_price_per_participant, dinner_price_per_participant, is_active) VALUES ($1, $2, $3, $4, $5) RETURNING *\", [\n        cateringOption.name,\n        cateringOption.description || \"\",\n        cateringOption.lunch_price_per_participant,\n        cateringOption.dinner_price_per_participant,\n        cateringOption.is_active ?? true\n    ]);\n    const row = res.rows[0];\n    return {\n        ...row,\n        lunch_price_per_participant: Number(row.lunch_price_per_participant),\n        dinner_price_per_participant: Number(row.dinner_price_per_participant),\n        is_active: Boolean(row.is_active)\n    };\n}\nasync function updateCateringOption(id, cateringOption) {\n    const current = await getCateringOptionById(id);\n    if (!current) return undefined;\n    const fields = [];\n    const values = [];\n    let paramCount = 1;\n    if (cateringOption.name !== undefined) {\n        fields.push(`name = $${paramCount++}`);\n        values.push(cateringOption.name);\n    }\n    if (cateringOption.description !== undefined) {\n        fields.push(`description = $${paramCount++}`);\n        values.push(cateringOption.description);\n    }\n    if (cateringOption.lunch_price_per_participant !== undefined) {\n        fields.push(`lunch_price_per_participant = $${paramCount++}`);\n        values.push(cateringOption.lunch_price_per_participant);\n    }\n    if (cateringOption.dinner_price_per_participant !== undefined) {\n        fields.push(`dinner_price_per_participant = $${paramCount++}`);\n        values.push(cateringOption.dinner_price_per_participant);\n    }\n    if (cateringOption.is_active !== undefined) {\n        fields.push(`is_active = $${paramCount++}`);\n        values.push(cateringOption.is_active);\n    }\n    if (fields.length === 0) return current;\n    fields.push(`updated_at = NOW()`);\n    values.push(id);\n    const res = await pool.query(`UPDATE catering_options SET ${fields.join(\", \")} WHERE id = $${paramCount} RETURNING *`, values);\n    const row = res.rows[0];\n    return {\n        ...row,\n        lunch_price_per_participant: Number(row.lunch_price_per_participant),\n        dinner_price_per_participant: Number(row.dinner_price_per_participant),\n        is_active: Boolean(row.is_active)\n    };\n}\nasync function deleteCateringOption(id) {\n    const res = await pool.query(\"DELETE FROM catering_options WHERE id = $1\", [\n        id\n    ]);\n    return (res.rowCount ?? 0) > 0;\n}\nasync function getAllTrainingRoomRentOptions() {\n    const res = await pool.query(\"SELECT * FROM training_room_rent_options ORDER BY name ASC\");\n    return res.rows.map((row)=>({\n            ...row,\n            rent_per_hour: Number(row.rent_per_hour),\n            is_active: Boolean(row.is_active)\n        }));\n}\nasync function getTrainingRoomRentOptionById(id) {\n    const res = await pool.query(\"SELECT * FROM training_room_rent_options WHERE id = $1\", [\n        id\n    ]);\n    if (!res.rows[0]) return undefined;\n    const row = res.rows[0];\n    return {\n        ...row,\n        rent_per_hour: Number(row.rent_per_hour),\n        is_active: Boolean(row.is_active)\n    };\n}\nasync function createTrainingRoomRentOption(option) {\n    const res = await pool.query(\"INSERT INTO training_room_rent_options (name, description, rent_per_hour, is_active) VALUES ($1, $2, $3, $4) RETURNING *\", [\n        option.name,\n        option.description || \"\",\n        option.rent_per_hour,\n        option.is_active ?? true\n    ]);\n    const row = res.rows[0];\n    return {\n        ...row,\n        rent_per_hour: Number(row.rent_per_hour),\n        is_active: Boolean(row.is_active)\n    };\n}\nasync function updateTrainingRoomRentOption(id, option) {\n    const current = await getTrainingRoomRentOptionById(id);\n    if (!current) return undefined;\n    const fields = [];\n    const values = [];\n    let paramCount = 1;\n    if (option.name !== undefined) {\n        fields.push(`name = $${paramCount++}`);\n        values.push(option.name);\n    }\n    if (option.description !== undefined) {\n        fields.push(`description = $${paramCount++}`);\n        values.push(option.description);\n    }\n    if (option.rent_per_hour !== undefined) {\n        fields.push(`rent_per_hour = $${paramCount++}`);\n        values.push(option.rent_per_hour);\n    }\n    if (option.is_active !== undefined) {\n        fields.push(`is_active = $${paramCount++}`);\n        values.push(option.is_active);\n    }\n    if (fields.length === 0) return current;\n    fields.push(`updated_at = NOW()`);\n    values.push(id);\n    const res = await pool.query(`UPDATE training_room_rent_options SET ${fields.join(\", \")} WHERE id = $${paramCount} RETURNING *`, values);\n    const row = res.rows[0];\n    return {\n        ...row,\n        rent_per_hour: Number(row.rent_per_hour),\n        is_active: Boolean(row.is_active)\n    };\n}\nasync function deleteTrainingRoomRentOption(id) {\n    const res = await pool.query(\"DELETE FROM training_room_rent_options WHERE id = $1\", [\n        id\n    ]);\n    return (res.rowCount ?? 0) > 0;\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFNLEtBQUssR0FBRyxPQUFPcEM7SUFDaENnQyxPQUFPRyxJQUFJLENBQUMsQ0FBQyxrQkFBa0IsQ0FBQztJQUNoQ0YsT0FBT0UsSUFBSSxDQUFDMUQ7SUFDWixNQUFNTixNQUFNLE1BQU1ULEtBQUtVLEtBQUssQ0FDMUIsQ0FBQyxzQ0FBc0MsRUFBRTRELE9BQU9LLElBQUksQ0FBQyxNQUFNLGFBQWEsRUFBRUgsV0FBVyxZQUFZLENBQUMsRUFDbEdEO0lBRUYsTUFBTWQsTUFBTWhELElBQUlFLElBQUksQ0FBQyxFQUFFO0lBQ3ZCLE9BQU87UUFDTCxHQUFHOEMsR0FBRztRQUNOb0MsZUFBZWxDLE9BQU9GLElBQUlvQyxhQUFhO1FBQ3ZDUixXQUFXekIsUUFBUUgsSUFBSTRCLFNBQVM7SUFDbEM7QUFDRjtBQUVPLGVBQWVhLDZCQUE2Qm5GLEVBQVU7SUFDM0QsTUFBTU4sTUFBTSxNQUFNVCxLQUFLVSxLQUFLLENBQUMsd0RBQXdEO1FBQUNLO0tBQUc7SUFDekYsT0FBTyxDQUFDTixJQUFJZ0MsUUFBUSxJQUFJLEtBQUs7QUFDL0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90cmFpbmluZy1pbnZvaWNpbmctYXBwLy4vc3JjL2xpYi9kYXRhYmFzZS5wZy50cz81OGViIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBvb2wgfSBmcm9tICdwZyc7XHJcbmltcG9ydCBiY3J5cHQgZnJvbSAnYmNyeXB0anMnO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBUcmFpbmluZ0RhdGUge1xyXG4gIGRhdGU6IHN0cmluZztcclxuICBzdGFydF90aW1lOiBzdHJpbmc7XHJcbiAgZW5kX3RpbWU6IHN0cmluZztcclxuICByb29tX3JlbnRfb3B0aW9uX2lkPzogbnVtYmVyIHwgbnVsbDtcclxuICBsdW5jaF9jYXRlcmluZ19vcHRpb25faWQ/OiBudW1iZXIgfCBudWxsO1xyXG4gIGRpbm5lcl9jYXRlcmluZ19vcHRpb25faWQ/OiBudW1iZXIgfCBudWxsO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFRyYWluaW5nSW52b2ljZSB7XHJcbiAgaWQ/OiBudW1iZXI7XHJcbiAgaW52b2ljZV9udW1iZXI/OiBzdHJpbmc7XHJcbiAgaW52b2ljZV9kYXRlPzogc3RyaW5nO1xyXG4gIGN1c3RvbWVyOiBzdHJpbmc7XHJcbiAgdHJhaW5pbmdfbmFtZTogc3RyaW5nO1xyXG4gIHRyYWluaW5nX2RhdGVzOiBUcmFpbmluZ0RhdGVbXTtcclxuICBkdXJhdGlvbl9kYXlzOiBudW1iZXI7XHJcbiAgdHJhaW5lcl9jb3N0czogbnVtYmVyO1xyXG4gIG9mZmljZV9jb3N0czogbnVtYmVyO1xyXG4gIG1hcmdpbl9wZXJjZW50YWdlOiBudW1iZXI7XHJcbiAgdG90YWxfaW52b2ljZV9hbW91bnQ6IG51bWJlcjtcclxuICB0cmFpbmVyX2F2YWlsYWJpbGl0eV9lbWFpbGVkPzogYm9vbGVhbjtcclxuICBtYXN0ZXJjbGFzc19wbGFubmluZ19hZGRlZD86IGJvb2xlYW47XHJcbiAgbG1zX3VwZGF0ZWQ/OiBib29sZWFuO1xyXG4gIG5hdmFyYV9ldmVudF9hZ2VuZGFfdXBkYXRlZD86IGJvb2xlYW47XHJcbiAgY2F0ZXJpbmdfb3JkZXJlZD86IGJvb2xlYW47XHJcbiAgdHJhaW5lcl9pbnZvaWNlX3JlY2VpdmVkPzogYm9vbGVhbjtcclxuICBjcmVhdGVkX2F0Pzogc3RyaW5nO1xyXG4gIHVwZGF0ZWRfYXQ/OiBzdHJpbmc7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgUGFydGljaXBhbnQge1xyXG4gIGlkPzogbnVtYmVyO1xyXG4gIHRyYWluaW5nX2ludm9pY2VfaWQ6IG51bWJlcjtcclxuICBuYW1lOiBzdHJpbmc7XHJcbiAgZW1haWw6IHN0cmluZztcclxuICBjb21wYW55OiBzdHJpbmc7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgVXNlciB7XHJcbiAgaWQ/OiBudW1iZXI7XHJcbiAgdXNlcm5hbWU6IHN0cmluZztcclxuICBlbWFpbDogc3RyaW5nO1xyXG4gIHBhc3N3b3JkOiBzdHJpbmc7XHJcbiAgcm9sZTogJ2FkbWluJyB8ICd1c2VyJyB8ICdtYW5hZ2VyJztcclxuICBuYW1lOiBzdHJpbmc7XHJcbiAgY3JlYXRlZF9hdD86IHN0cmluZztcclxuICB1cGRhdGVkX2F0Pzogc3RyaW5nO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIENhdGVyaW5nT3B0aW9uIHtcclxuICBpZD86IG51bWJlcjtcclxuICBuYW1lOiBzdHJpbmc7XHJcbiAgZGVzY3JpcHRpb24/OiBzdHJpbmc7XHJcbiAgbHVuY2hfcHJpY2VfcGVyX3BhcnRpY2lwYW50OiBudW1iZXI7XHJcbiAgZGlubmVyX3ByaWNlX3Blcl9wYXJ0aWNpcGFudDogbnVtYmVyO1xyXG4gIGlzX2FjdGl2ZT86IGJvb2xlYW47XHJcbiAgY3JlYXRlZF9hdD86IHN0cmluZztcclxuICB1cGRhdGVkX2F0Pzogc3RyaW5nO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFRyYWluaW5nUm9vbVJlbnRPcHRpb24ge1xyXG4gIGlkPzogbnVtYmVyO1xyXG4gIG5hbWU6IHN0cmluZztcclxuICBkZXNjcmlwdGlvbj86IHN0cmluZztcclxuICByZW50X3Blcl9ob3VyOiBudW1iZXI7XHJcbiAgaXNfYWN0aXZlPzogYm9vbGVhbjtcclxuICBjcmVhdGVkX2F0Pzogc3RyaW5nO1xyXG4gIHVwZGF0ZWRfYXQ/OiBzdHJpbmc7XHJcbn1cclxuXHJcbmNvbnN0IHBvb2wgPSBuZXcgUG9vbCh7XHJcbiAgY29ubmVjdGlvblN0cmluZzogcHJvY2Vzcy5lbnYuREFUQUJBU0VfVVJMLFxyXG4gIHNzbDogcHJvY2Vzcy5lbnYuREFUQUJBU0VfVVJMPy5pbmNsdWRlcygnbG9jYWxob3N0JykgPyBmYWxzZSA6IHsgcmVqZWN0VW5hdXRob3JpemVkOiBmYWxzZSB9LFxyXG59KTtcclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRBbGxUcmFpbmluZ0ludm9pY2VzKCk6IFByb21pc2U8VHJhaW5pbmdJbnZvaWNlW10+IHtcclxuICBjb25zdCByZXMgPSBhd2FpdCBwb29sLnF1ZXJ5KCdTRUxFQ1QgKiBGUk9NIHRyYWluaW5nX2ludm9pY2VzIE9SREVSIEJZIGNyZWF0ZWRfYXQgREVTQycpO1xyXG4gIHJldHVybiByZXMucm93cy5tYXAoZGVzZXJpYWxpemVJbnZvaWNlKTtcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFRyYWluaW5nSW52b2ljZUJ5SWQoaWQ6IG51bWJlcik6IFByb21pc2U8VHJhaW5pbmdJbnZvaWNlIHwgdW5kZWZpbmVkPiB7XHJcbiAgY29uc3QgcmVzID0gYXdhaXQgcG9vbC5xdWVyeSgnU0VMRUNUICogRlJPTSB0cmFpbmluZ19pbnZvaWNlcyBXSEVSRSBpZCA9ICQxJywgW2lkXSk7XHJcbiAgcmV0dXJuIHJlcy5yb3dzWzBdID8gZGVzZXJpYWxpemVJbnZvaWNlKHJlcy5yb3dzWzBdKSA6IHVuZGVmaW5lZDtcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZVRyYWluaW5nSW52b2ljZShpbnZvaWNlOiBPbWl0PFRyYWluaW5nSW52b2ljZSwgJ2lkJyB8ICdjcmVhdGVkX2F0JyB8ICd1cGRhdGVkX2F0Jz4pOiBQcm9taXNlPFRyYWluaW5nSW52b2ljZT4ge1xyXG4gIGNvbnN0IHJlcyA9IGF3YWl0IHBvb2wucXVlcnkoXHJcbiAgICBgSU5TRVJUIElOVE8gdHJhaW5pbmdfaW52b2ljZXMgXHJcbiAgICAgIChpbnZvaWNlX251bWJlciwgaW52b2ljZV9kYXRlLCBjdXN0b21lciwgdHJhaW5pbmdfbmFtZSwgdHJhaW5pbmdfZGF0ZXMsIGR1cmF0aW9uX2RheXMsIHRyYWluZXJfY29zdHMsIG9mZmljZV9jb3N0cywgbWFyZ2luX3BlcmNlbnRhZ2UsIHRvdGFsX2ludm9pY2VfYW1vdW50LCB0cmFpbmVyX2F2YWlsYWJpbGl0eV9lbWFpbGVkLCBtYXN0ZXJjbGFzc19wbGFubmluZ19hZGRlZCwgbG1zX3VwZGF0ZWQsIG5hdmFyYV9ldmVudF9hZ2VuZGFfdXBkYXRlZCwgY2F0ZXJpbmdfb3JkZXJlZCwgdHJhaW5lcl9pbnZvaWNlX3JlY2VpdmVkKVxyXG4gICAgICBWQUxVRVMgKCQxLCQyLCQzLCQ0LCQ1LCQ2LCQ3LCQ4LCQ5LCQxMCwkMTEsJDEyLCQxMywkMTQsJDE1LCQxNilcclxuICAgICAgUkVUVVJOSU5HICpgLFxyXG4gICAgW1xyXG4gICAgICBpbnZvaWNlLmludm9pY2VfbnVtYmVyID8/ICcnLFxyXG4gICAgICBpbnZvaWNlLmludm9pY2VfZGF0ZSA/PyAnJyxcclxuICAgICAgaW52b2ljZS5jdXN0b21lcixcclxuICAgICAgaW52b2ljZS50cmFpbmluZ19uYW1lLFxyXG4gICAgICBKU09OLnN0cmluZ2lmeShpbnZvaWNlLnRyYWluaW5nX2RhdGVzKSxcclxuICAgICAgaW52b2ljZS5kdXJhdGlvbl9kYXlzLFxyXG4gICAgICBpbnZvaWNlLnRyYWluZXJfY29zdHMsXHJcbiAgICAgIGludm9pY2Uub2ZmaWNlX2Nvc3RzLFxyXG4gICAgICBpbnZvaWNlLm1hcmdpbl9wZXJjZW50YWdlLFxyXG4gICAgICBpbnZvaWNlLnRvdGFsX2ludm9pY2VfYW1vdW50LFxyXG4gICAgICBpbnZvaWNlLnRyYWluZXJfYXZhaWxhYmlsaXR5X2VtYWlsZWQgPz8gZmFsc2UsXHJcbiAgICAgIGludm9pY2UubWFzdGVyY2xhc3NfcGxhbm5pbmdfYWRkZWQgPz8gZmFsc2UsXHJcbiAgICAgIGludm9pY2UubG1zX3VwZGF0ZWQgPz8gZmFsc2UsXHJcbiAgICAgIGludm9pY2UubmF2YXJhX2V2ZW50X2FnZW5kYV91cGRhdGVkID8/IGZhbHNlLFxyXG4gICAgICBpbnZvaWNlLmNhdGVyaW5nX29yZGVyZWQgPz8gZmFsc2UsXHJcbiAgICAgIGludm9pY2UudHJhaW5lcl9pbnZvaWNlX3JlY2VpdmVkID8/IGZhbHNlXHJcbiAgICBdXHJcbiAgKTtcclxuICByZXR1cm4gZGVzZXJpYWxpemVJbnZvaWNlKHJlcy5yb3dzWzBdKTtcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZVRyYWluaW5nSW52b2ljZShpZDogbnVtYmVyLCBpbnZvaWNlOiBQYXJ0aWFsPFRyYWluaW5nSW52b2ljZT4pOiBQcm9taXNlPFRyYWluaW5nSW52b2ljZSB8IHVuZGVmaW5lZD4ge1xyXG4gIGNvbnN0IGN1cnJlbnQgPSBhd2FpdCBnZXRUcmFpbmluZ0ludm9pY2VCeUlkKGlkKTtcclxuICBpZiAoIWN1cnJlbnQpIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgY29uc3QgdXBkYXRlZCA9IHsgLi4uY3VycmVudCwgLi4uaW52b2ljZSB9O1xyXG4gIGNvbnN0IHJlcyA9IGF3YWl0IHBvb2wucXVlcnkoXHJcbiAgICBgVVBEQVRFIHRyYWluaW5nX2ludm9pY2VzIFNFVFxyXG4gICAgICBpbnZvaWNlX251bWJlciA9ICQxLFxyXG4gICAgICBpbnZvaWNlX2RhdGUgPSAkMixcclxuICAgICAgY3VzdG9tZXIgPSAkMyxcclxuICAgICAgdHJhaW5pbmdfbmFtZSA9ICQ0LFxyXG4gICAgICB0cmFpbmluZ19kYXRlcyA9ICQ1LFxyXG4gICAgICBkdXJhdGlvbl9kYXlzID0gJDYsXHJcbiAgICAgIHRyYWluZXJfY29zdHMgPSAkNyxcclxuICAgICAgb2ZmaWNlX2Nvc3RzID0gJDgsXHJcbiAgICAgIG1hcmdpbl9wZXJjZW50YWdlID0gJDksXHJcbiAgICAgIHRvdGFsX2ludm9pY2VfYW1vdW50ID0gJDEwLFxyXG4gICAgICB0cmFpbmVyX2F2YWlsYWJpbGl0eV9lbWFpbGVkID0gJDExLFxyXG4gICAgICBtYXN0ZXJjbGFzc19wbGFubmluZ19hZGRlZCA9ICQxMixcclxuICAgICAgbG1zX3VwZGF0ZWQgPSAkMTMsXHJcbiAgICAgIG5hdmFyYV9ldmVudF9hZ2VuZGFfdXBkYXRlZCA9ICQxNCxcclxuICAgICAgY2F0ZXJpbmdfb3JkZXJlZCA9ICQxNSxcclxuICAgICAgdHJhaW5lcl9pbnZvaWNlX3JlY2VpdmVkID0gJDE2LFxyXG4gICAgICB1cGRhdGVkX2F0ID0gTk9XKClcclxuICAgIFdIRVJFIGlkID0gJDE3IFJFVFVSTklORyAqYCxcclxuICAgIFtcclxuICAgICAgdXBkYXRlZC5pbnZvaWNlX251bWJlciA/PyAnJyxcclxuICAgICAgdXBkYXRlZC5pbnZvaWNlX2RhdGUgPz8gJycsXHJcbiAgICAgIHVwZGF0ZWQuY3VzdG9tZXIsXHJcbiAgICAgIHVwZGF0ZWQudHJhaW5pbmdfbmFtZSxcclxuICAgICAgSlNPTi5zdHJpbmdpZnkodXBkYXRlZC50cmFpbmluZ19kYXRlcyksXHJcbiAgICAgIHVwZGF0ZWQuZHVyYXRpb25fZGF5cyxcclxuICAgICAgdXBkYXRlZC50cmFpbmVyX2Nvc3RzLFxyXG4gICAgICB1cGRhdGVkLm9mZmljZV9jb3N0cyxcclxuICAgICAgdXBkYXRlZC5tYXJnaW5fcGVyY2VudGFnZSxcclxuICAgICAgdXBkYXRlZC50b3RhbF9pbnZvaWNlX2Ftb3VudCxcclxuICAgICAgdXBkYXRlZC50cmFpbmVyX2F2YWlsYWJpbGl0eV9lbWFpbGVkID8/IGZhbHNlLFxyXG4gICAgICB1cGRhdGVkLm1hc3RlcmNsYXNzX3BsYW5uaW5nX2FkZGVkID8/IGZhbHNlLFxyXG4gICAgICB1cGRhdGVkLmxtc191cGRhdGVkID8/IGZhbHNlLFxyXG4gICAgICB1cGRhdGVkLm5hdmFyYV9ldmVudF9hZ2VuZGFfdXBkYXRlZCA/PyBmYWxzZSxcclxuICAgICAgdXBkYXRlZC5jYXRlcmluZ19vcmRlcmVkID8/IGZhbHNlLFxyXG4gICAgICB1cGRhdGVkLnRyYWluZXJfaW52b2ljZV9yZWNlaXZlZCA/PyBmYWxzZSxcclxuICAgICAgaWRcclxuICAgIF1cclxuICApO1xyXG4gIHJldHVybiBkZXNlcmlhbGl6ZUludm9pY2UocmVzLnJvd3NbMF0pO1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVsZXRlVHJhaW5pbmdJbnZvaWNlKGlkOiBudW1iZXIpOiBQcm9taXNlPGJvb2xlYW4+IHtcclxuICBjb25zdCByZXMgPSBhd2FpdCBwb29sLnF1ZXJ5KCdERUxFVEUgRlJPTSB0cmFpbmluZ19pbnZvaWNlcyBXSEVSRSBpZCA9ICQxJywgW2lkXSk7XHJcbiAgcmV0dXJuIChyZXMucm93Q291bnQgPz8gMCkgPiAwO1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0UGFydGljaXBhbnRzQnlJbnZvaWNlKHRyYWluaW5nX2ludm9pY2VfaWQ6IG51bWJlcik6IFByb21pc2U8UGFydGljaXBhbnRbXT4ge1xyXG4gIGNvbnN0IHJlcyA9IGF3YWl0IHBvb2wucXVlcnkoJ1NFTEVDVCAqIEZST00gcGFydGljaXBhbnRzIFdIRVJFIHRyYWluaW5nX2ludm9pY2VfaWQgPSAkMSBPUkRFUiBCWSBpZCBBU0MnLCBbdHJhaW5pbmdfaW52b2ljZV9pZF0pO1xyXG4gIHJldHVybiByZXMucm93cztcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGFkZFBhcnRpY2lwYW50KHBhcnRpY2lwYW50OiBPbWl0PFBhcnRpY2lwYW50LCAnaWQnPik6IFByb21pc2U8UGFydGljaXBhbnQ+IHtcclxuICBjb25zdCByZXMgPSBhd2FpdCBwb29sLnF1ZXJ5KFxyXG4gICAgJ0lOU0VSVCBJTlRPIHBhcnRpY2lwYW50cyAodHJhaW5pbmdfaW52b2ljZV9pZCwgbmFtZSwgZW1haWwsIGNvbXBhbnkpIFZBTFVFUyAoJDEsICQyLCAkMywgJDQpIFJFVFVSTklORyAqJyxcclxuICAgIFtwYXJ0aWNpcGFudC50cmFpbmluZ19pbnZvaWNlX2lkLCBwYXJ0aWNpcGFudC5uYW1lLCBwYXJ0aWNpcGFudC5lbWFpbCwgcGFydGljaXBhbnQuY29tcGFueV1cclxuICApO1xyXG4gIHJldHVybiByZXMucm93c1swXTtcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZVBhcnRpY2lwYW50KGlkOiBudW1iZXIsIHBhcnRpY2lwYW50OiBQYXJ0aWFsPFBhcnRpY2lwYW50Pik6IFByb21pc2U8UGFydGljaXBhbnQgfCB1bmRlZmluZWQ+IHtcclxuICBjb25zdCBjdXJyZW50ID0gYXdhaXQgZ2V0UGFydGljaXBhbnRCeUlkKGlkKTtcclxuICBpZiAoIWN1cnJlbnQpIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgY29uc3QgdXBkYXRlZCA9IHsgLi4uY3VycmVudCwgLi4ucGFydGljaXBhbnQgfTtcclxuICBjb25zdCByZXMgPSBhd2FpdCBwb29sLnF1ZXJ5KFxyXG4gICAgJ1VQREFURSBwYXJ0aWNpcGFudHMgU0VUIG5hbWUgPSAkMSwgZW1haWwgPSAkMiwgY29tcGFueSA9ICQzIFdIRVJFIGlkID0gJDQgUkVUVVJOSU5HIConLFxyXG4gICAgW3VwZGF0ZWQubmFtZSwgdXBkYXRlZC5lbWFpbCwgdXBkYXRlZC5jb21wYW55LCBpZF1cclxuICApO1xyXG4gIHJldHVybiByZXMucm93c1swXTtcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFBhcnRpY2lwYW50QnlJZChpZDogbnVtYmVyKTogUHJvbWlzZTxQYXJ0aWNpcGFudCB8IHVuZGVmaW5lZD4ge1xyXG4gIGNvbnN0IHJlcyA9IGF3YWl0IHBvb2wucXVlcnkoJ1NFTEVDVCAqIEZST00gcGFydGljaXBhbnRzIFdIRVJFIGlkID0gJDEnLCBbaWRdKTtcclxuICByZXR1cm4gcmVzLnJvd3NbMF07XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWxldGVQYXJ0aWNpcGFudChpZDogbnVtYmVyKTogUHJvbWlzZTxib29sZWFuPiB7XHJcbiAgY29uc3QgcmVzID0gYXdhaXQgcG9vbC5xdWVyeSgnREVMRVRFIEZST00gcGFydGljaXBhbnRzIFdIRVJFIGlkID0gJDEnLCBbaWRdKTtcclxuICByZXR1cm4gKHJlcy5yb3dDb3VudCA/PyAwKSA+IDA7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjYWxjdWxhdGVUb3RhbEFtb3VudCh0cmFpbmVyQ29zdHM6IG51bWJlciwgb2ZmaWNlQ29zdHM6IG51bWJlciwgbWFyZ2luUGVyY2VudGFnZTogbnVtYmVyKTogbnVtYmVyIHtcclxuICBjb25zdCBtYXJnaW5BbW91bnQgPSB0cmFpbmVyQ29zdHMgKiAobWFyZ2luUGVyY2VudGFnZSAvIDEwMCk7XHJcbiAgcmV0dXJuIHRyYWluZXJDb3N0cyArIG9mZmljZUNvc3RzICsgbWFyZ2luQW1vdW50O1xyXG59XHJcblxyXG5mdW5jdGlvbiBkZXNlcmlhbGl6ZUludm9pY2Uocm93OiBhbnkpOiBUcmFpbmluZ0ludm9pY2Uge1xyXG4gIHJldHVybiB7XHJcbiAgICAuLi5yb3csXHJcbiAgICB0cmFpbmluZ19kYXRlczogdHlwZW9mIHJvdy50cmFpbmluZ19kYXRlcyA9PT0gJ3N0cmluZycgPyBKU09OLnBhcnNlKHJvdy50cmFpbmluZ19kYXRlcykgOiByb3cudHJhaW5pbmdfZGF0ZXMsXHJcbiAgICB0cmFpbmVyX2Nvc3RzOiBOdW1iZXIocm93LnRyYWluZXJfY29zdHMpLFxyXG4gICAgb2ZmaWNlX2Nvc3RzOiBOdW1iZXIocm93Lm9mZmljZV9jb3N0cyksXHJcbiAgICBtYXJnaW5fcGVyY2VudGFnZTogTnVtYmVyKHJvdy5tYXJnaW5fcGVyY2VudGFnZSksXHJcbiAgICB0b3RhbF9pbnZvaWNlX2Ftb3VudDogTnVtYmVyKHJvdy50b3RhbF9pbnZvaWNlX2Ftb3VudCksXHJcbiAgICB0cmFpbmVyX2F2YWlsYWJpbGl0eV9lbWFpbGVkOiBCb29sZWFuKHJvdy50cmFpbmVyX2F2YWlsYWJpbGl0eV9lbWFpbGVkKSxcclxuICAgIG1hc3RlcmNsYXNzX3BsYW5uaW5nX2FkZGVkOiBCb29sZWFuKHJvdy5tYXN0ZXJjbGFzc19wbGFubmluZ19hZGRlZCksXHJcbiAgICBsbXNfdXBkYXRlZDogQm9vbGVhbihyb3cubG1zX3VwZGF0ZWQpLFxyXG4gICAgbmF2YXJhX2V2ZW50X2FnZW5kYV91cGRhdGVkOiBCb29sZWFuKHJvdy5uYXZhcmFfZXZlbnRfYWdlbmRhX3VwZGF0ZWQpLFxyXG4gICAgY2F0ZXJpbmdfb3JkZXJlZDogQm9vbGVhbihyb3cuY2F0ZXJpbmdfb3JkZXJlZCksXHJcbiAgICB0cmFpbmVyX2ludm9pY2VfcmVjZWl2ZWQ6IEJvb2xlYW4ocm93LnRyYWluZXJfaW52b2ljZV9yZWNlaXZlZCksXHJcbiAgfTtcclxufVxyXG5cclxuLy8gVXNlciBtYW5hZ2VtZW50IGZ1bmN0aW9uc1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0QWxsVXNlcnMoKTogUHJvbWlzZTxPbWl0PFVzZXIsICdwYXNzd29yZCc+W10+IHtcclxuICBjb25zdCByZXMgPSBhd2FpdCBwb29sLnF1ZXJ5KCdTRUxFQ1QgaWQsIHVzZXJuYW1lLCBlbWFpbCwgcm9sZSwgbmFtZSwgY3JlYXRlZF9hdCwgdXBkYXRlZF9hdCBGUk9NIHVzZXJzIE9SREVSIEJZIGNyZWF0ZWRfYXQgREVTQycpO1xyXG4gIHJldHVybiByZXMucm93cztcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFVzZXJCeUlkKGlkOiBudW1iZXIpOiBQcm9taXNlPE9taXQ8VXNlciwgJ3Bhc3N3b3JkJz4gfCB1bmRlZmluZWQ+IHtcclxuICBjb25zdCByZXMgPSBhd2FpdCBwb29sLnF1ZXJ5KCdTRUxFQ1QgaWQsIHVzZXJuYW1lLCBlbWFpbCwgcm9sZSwgbmFtZSwgY3JlYXRlZF9hdCwgdXBkYXRlZF9hdCBGUk9NIHVzZXJzIFdIRVJFIGlkID0gJDEnLCBbaWRdKTtcclxuICByZXR1cm4gcmVzLnJvd3NbMF07XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRVc2VyQnlVc2VybmFtZSh1c2VybmFtZTogc3RyaW5nKTogUHJvbWlzZTxVc2VyIHwgdW5kZWZpbmVkPiB7XHJcbiAgY29uc3QgcmVzID0gYXdhaXQgcG9vbC5xdWVyeSgnU0VMRUNUICogRlJPTSB1c2VycyBXSEVSRSB1c2VybmFtZSA9ICQxJywgW3VzZXJuYW1lXSk7XHJcbiAgcmV0dXJuIHJlcy5yb3dzWzBdO1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlVXNlcih1c2VyOiBPbWl0PFVzZXIsICdpZCcgfCAnY3JlYXRlZF9hdCcgfCAndXBkYXRlZF9hdCc+KTogUHJvbWlzZTxPbWl0PFVzZXIsICdwYXNzd29yZCc+PiB7XHJcbiAgY29uc3QgcmVzID0gYXdhaXQgcG9vbC5xdWVyeShcclxuICAgICdJTlNFUlQgSU5UTyB1c2VycyAodXNlcm5hbWUsIGVtYWlsLCBwYXNzd29yZCwgcm9sZSwgbmFtZSkgVkFMVUVTICgkMSwgJDIsICQzLCAkNCwgJDUpIFJFVFVSTklORyBpZCwgdXNlcm5hbWUsIGVtYWlsLCByb2xlLCBuYW1lLCBjcmVhdGVkX2F0LCB1cGRhdGVkX2F0JyxcclxuICAgIFt1c2VyLnVzZXJuYW1lLCB1c2VyLmVtYWlsLCB1c2VyLnBhc3N3b3JkLCB1c2VyLnJvbGUsIHVzZXIubmFtZV1cclxuICApO1xyXG4gIHJldHVybiByZXMucm93c1swXTtcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZVVzZXIoaWQ6IG51bWJlciwgdXNlcjogUGFydGlhbDxPbWl0PFVzZXIsICdpZCcgfCAncGFzc3dvcmQnIHwgJ2NyZWF0ZWRfYXQnIHwgJ3VwZGF0ZWRfYXQnPj4pOiBQcm9taXNlPE9taXQ8VXNlciwgJ3Bhc3N3b3JkJz4gfCB1bmRlZmluZWQ+IHtcclxuICBjb25zdCBjdXJyZW50ID0gYXdhaXQgZ2V0VXNlckJ5SWQoaWQpO1xyXG4gIGlmICghY3VycmVudCkgcmV0dXJuIHVuZGVmaW5lZDtcclxuXHJcbiAgY29uc3QgZmllbGRzID0gW107XHJcbiAgY29uc3QgdmFsdWVzID0gW107XHJcbiAgbGV0IHBhcmFtQ291bnQgPSAxO1xyXG5cclxuICBpZiAodXNlci51c2VybmFtZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICBmaWVsZHMucHVzaChgdXNlcm5hbWUgPSAkJHtwYXJhbUNvdW50Kyt9YCk7XHJcbiAgICB2YWx1ZXMucHVzaCh1c2VyLnVzZXJuYW1lKTtcclxuICB9XHJcbiAgaWYgKHVzZXIuZW1haWwgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgZmllbGRzLnB1c2goYGVtYWlsID0gJCR7cGFyYW1Db3VudCsrfWApO1xyXG4gICAgdmFsdWVzLnB1c2godXNlci5lbWFpbCk7XHJcbiAgfVxyXG4gIGlmICh1c2VyLnJvbGUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgZmllbGRzLnB1c2goYHJvbGUgPSAkJHtwYXJhbUNvdW50Kyt9YCk7XHJcbiAgICB2YWx1ZXMucHVzaCh1c2VyLnJvbGUpO1xyXG4gIH1cclxuICBpZiAodXNlci5uYW1lICE9PSB1bmRlZmluZWQpIHtcclxuICAgIGZpZWxkcy5wdXNoKGBuYW1lID0gJCR7cGFyYW1Db3VudCsrfWApO1xyXG4gICAgdmFsdWVzLnB1c2godXNlci5uYW1lKTtcclxuICB9XHJcblxyXG4gIGlmIChmaWVsZHMubGVuZ3RoID09PSAwKSByZXR1cm4gY3VycmVudDtcclxuXHJcbiAgZmllbGRzLnB1c2goYHVwZGF0ZWRfYXQgPSBOT1coKWApO1xyXG4gIHZhbHVlcy5wdXNoKGlkKTtcclxuXHJcbiAgY29uc3QgcmVzID0gYXdhaXQgcG9vbC5xdWVyeShcclxuICAgIGBVUERBVEUgdXNlcnMgU0VUICR7ZmllbGRzLmpvaW4oJywgJyl9IFdIRVJFIGlkID0gJCR7cGFyYW1Db3VudH0gUkVUVVJOSU5HIGlkLCB1c2VybmFtZSwgZW1haWwsIHJvbGUsIG5hbWUsIGNyZWF0ZWRfYXQsIHVwZGF0ZWRfYXRgLFxyXG4gICAgdmFsdWVzXHJcbiAgKTtcclxuICByZXR1cm4gcmVzLnJvd3NbMF07XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cGRhdGVVc2VyUGFzc3dvcmQoaWQ6IG51bWJlciwgcGFzc3dvcmQ6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4ge1xyXG4gIGNvbnN0IHJlcyA9IGF3YWl0IHBvb2wucXVlcnkoJ1VQREFURSB1c2VycyBTRVQgcGFzc3dvcmQgPSAkMSwgdXBkYXRlZF9hdCA9IE5PVygpIFdIRVJFIGlkID0gJDInLCBbcGFzc3dvcmQsIGlkXSk7XHJcbiAgcmV0dXJuIChyZXMucm93Q291bnQgPz8gMCkgPiAwO1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVsZXRlVXNlcihpZDogbnVtYmVyKTogUHJvbWlzZTxib29sZWFuPiB7XHJcbiAgY29uc3QgcmVzID0gYXdhaXQgcG9vbC5xdWVyeSgnREVMRVRFIEZST00gdXNlcnMgV0hFUkUgaWQgPSAkMScsIFtpZF0pO1xyXG4gIHJldHVybiAocmVzLnJvd0NvdW50ID8/IDApID4gMDtcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGluaXRpYWxpemVEZWZhdWx0QWRtaW4oKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgLy8gQ2hlY2sgaWYgYWRtaW4gdXNlciBhbHJlYWR5IGV4aXN0c1xyXG4gIGNvbnN0IGV4aXN0aW5nQWRtaW4gPSBhd2FpdCBnZXRVc2VyQnlVc2VybmFtZSgnYWRtaW4nKTtcclxuICBpZiAoZXhpc3RpbmdBZG1pbikgcmV0dXJuO1xyXG5cclxuICAvLyBDcmVhdGUgZGVmYXVsdCBhZG1pbiB1c2VyXHJcbiAgY29uc3QgaGFzaGVkUGFzc3dvcmQgPSBhd2FpdCBiY3J5cHQuaGFzaCgnYWRtaW4nLCAxMCk7XHJcbiAgXHJcbiAgYXdhaXQgY3JlYXRlVXNlcih7XHJcbiAgICB1c2VybmFtZTogJ2FkbWluJyxcclxuICAgIGVtYWlsOiAnYWRtaW5AZXhhbXBsZS5jb20nLFxyXG4gICAgcGFzc3dvcmQ6IGhhc2hlZFBhc3N3b3JkLFxyXG4gICAgcm9sZTogJ2FkbWluJyxcclxuICAgIG5hbWU6ICdBZG1pbmlzdHJhdG9yJyxcclxuICB9KTtcclxufVxyXG5cclxuLy8gQ2F0ZXJpbmcgb3B0aW9ucyBtYW5hZ2VtZW50IGZ1bmN0aW9uc1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0QWxsQ2F0ZXJpbmdPcHRpb25zKCk6IFByb21pc2U8Q2F0ZXJpbmdPcHRpb25bXT4ge1xyXG4gIGNvbnN0IHJlcyA9IGF3YWl0IHBvb2wucXVlcnkoJ1NFTEVDVCAqIEZST00gY2F0ZXJpbmdfb3B0aW9ucyBPUkRFUiBCWSBuYW1lIEFTQycpO1xyXG4gIHJldHVybiByZXMucm93cy5tYXAocm93ID0+ICh7XHJcbiAgICAuLi5yb3csXHJcbiAgICBsdW5jaF9wcmljZV9wZXJfcGFydGljaXBhbnQ6IE51bWJlcihyb3cubHVuY2hfcHJpY2VfcGVyX3BhcnRpY2lwYW50KSxcclxuICAgIGRpbm5lcl9wcmljZV9wZXJfcGFydGljaXBhbnQ6IE51bWJlcihyb3cuZGlubmVyX3ByaWNlX3Blcl9wYXJ0aWNpcGFudCksXHJcbiAgICBpc19hY3RpdmU6IEJvb2xlYW4ocm93LmlzX2FjdGl2ZSksXHJcbiAgfSkpO1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0Q2F0ZXJpbmdPcHRpb25CeUlkKGlkOiBudW1iZXIpOiBQcm9taXNlPENhdGVyaW5nT3B0aW9uIHwgdW5kZWZpbmVkPiB7XHJcbiAgY29uc3QgcmVzID0gYXdhaXQgcG9vbC5xdWVyeSgnU0VMRUNUICogRlJPTSBjYXRlcmluZ19vcHRpb25zIFdIRVJFIGlkID0gJDEnLCBbaWRdKTtcclxuICBpZiAoIXJlcy5yb3dzWzBdKSByZXR1cm4gdW5kZWZpbmVkO1xyXG4gIFxyXG4gIGNvbnN0IHJvdyA9IHJlcy5yb3dzWzBdO1xyXG4gIHJldHVybiB7XHJcbiAgICAuLi5yb3csXHJcbiAgICBsdW5jaF9wcmljZV9wZXJfcGFydGljaXBhbnQ6IE51bWJlcihyb3cubHVuY2hfcHJpY2VfcGVyX3BhcnRpY2lwYW50KSxcclxuICAgIGRpbm5lcl9wcmljZV9wZXJfcGFydGljaXBhbnQ6IE51bWJlcihyb3cuZGlubmVyX3ByaWNlX3Blcl9wYXJ0aWNpcGFudCksXHJcbiAgICBpc19hY3RpdmU6IEJvb2xlYW4ocm93LmlzX2FjdGl2ZSksXHJcbiAgfTtcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZUNhdGVyaW5nT3B0aW9uKGNhdGVyaW5nT3B0aW9uOiBPbWl0PENhdGVyaW5nT3B0aW9uLCAnaWQnIHwgJ2NyZWF0ZWRfYXQnIHwgJ3VwZGF0ZWRfYXQnPik6IFByb21pc2U8Q2F0ZXJpbmdPcHRpb24+IHtcclxuICBjb25zdCByZXMgPSBhd2FpdCBwb29sLnF1ZXJ5KFxyXG4gICAgJ0lOU0VSVCBJTlRPIGNhdGVyaW5nX29wdGlvbnMgKG5hbWUsIGRlc2NyaXB0aW9uLCBsdW5jaF9wcmljZV9wZXJfcGFydGljaXBhbnQsIGRpbm5lcl9wcmljZV9wZXJfcGFydGljaXBhbnQsIGlzX2FjdGl2ZSkgVkFMVUVTICgkMSwgJDIsICQzLCAkNCwgJDUpIFJFVFVSTklORyAqJyxcclxuICAgIFtcclxuICAgICAgY2F0ZXJpbmdPcHRpb24ubmFtZSxcclxuICAgICAgY2F0ZXJpbmdPcHRpb24uZGVzY3JpcHRpb24gfHwgJycsXHJcbiAgICAgIGNhdGVyaW5nT3B0aW9uLmx1bmNoX3ByaWNlX3Blcl9wYXJ0aWNpcGFudCxcclxuICAgICAgY2F0ZXJpbmdPcHRpb24uZGlubmVyX3ByaWNlX3Blcl9wYXJ0aWNpcGFudCxcclxuICAgICAgY2F0ZXJpbmdPcHRpb24uaXNfYWN0aXZlID8/IHRydWUsXHJcbiAgICBdXHJcbiAgKTtcclxuICBcclxuICBjb25zdCByb3cgPSByZXMucm93c1swXTtcclxuICByZXR1cm4ge1xyXG4gICAgLi4ucm93LFxyXG4gICAgbHVuY2hfcHJpY2VfcGVyX3BhcnRpY2lwYW50OiBOdW1iZXIocm93Lmx1bmNoX3ByaWNlX3Blcl9wYXJ0aWNpcGFudCksXHJcbiAgICBkaW5uZXJfcHJpY2VfcGVyX3BhcnRpY2lwYW50OiBOdW1iZXIocm93LmRpbm5lcl9wcmljZV9wZXJfcGFydGljaXBhbnQpLFxyXG4gICAgaXNfYWN0aXZlOiBCb29sZWFuKHJvdy5pc19hY3RpdmUpLFxyXG4gIH07XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cGRhdGVDYXRlcmluZ09wdGlvbihpZDogbnVtYmVyLCBjYXRlcmluZ09wdGlvbjogUGFydGlhbDxPbWl0PENhdGVyaW5nT3B0aW9uLCAnaWQnIHwgJ2NyZWF0ZWRfYXQnIHwgJ3VwZGF0ZWRfYXQnPj4pOiBQcm9taXNlPENhdGVyaW5nT3B0aW9uIHwgdW5kZWZpbmVkPiB7XHJcbiAgY29uc3QgY3VycmVudCA9IGF3YWl0IGdldENhdGVyaW5nT3B0aW9uQnlJZChpZCk7XHJcbiAgaWYgKCFjdXJyZW50KSByZXR1cm4gdW5kZWZpbmVkO1xyXG5cclxuICBjb25zdCBmaWVsZHMgPSBbXTtcclxuICBjb25zdCB2YWx1ZXMgPSBbXTtcclxuICBsZXQgcGFyYW1Db3VudCA9IDE7XHJcblxyXG4gIGlmIChjYXRlcmluZ09wdGlvbi5uYW1lICE9PSB1bmRlZmluZWQpIHtcclxuICAgIGZpZWxkcy5wdXNoKGBuYW1lID0gJCR7cGFyYW1Db3VudCsrfWApO1xyXG4gICAgdmFsdWVzLnB1c2goY2F0ZXJpbmdPcHRpb24ubmFtZSk7XHJcbiAgfVxyXG4gIGlmIChjYXRlcmluZ09wdGlvbi5kZXNjcmlwdGlvbiAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICBmaWVsZHMucHVzaChgZGVzY3JpcHRpb24gPSAkJHtwYXJhbUNvdW50Kyt9YCk7XHJcbiAgICB2YWx1ZXMucHVzaChjYXRlcmluZ09wdGlvbi5kZXNjcmlwdGlvbik7XHJcbiAgfVxyXG4gIGlmIChjYXRlcmluZ09wdGlvbi5sdW5jaF9wcmljZV9wZXJfcGFydGljaXBhbnQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgZmllbGRzLnB1c2goYGx1bmNoX3ByaWNlX3Blcl9wYXJ0aWNpcGFudCA9ICQke3BhcmFtQ291bnQrK31gKTtcclxuICAgIHZhbHVlcy5wdXNoKGNhdGVyaW5nT3B0aW9uLmx1bmNoX3ByaWNlX3Blcl9wYXJ0aWNpcGFudCk7XHJcbiAgfVxyXG4gIGlmIChjYXRlcmluZ09wdGlvbi5kaW5uZXJfcHJpY2VfcGVyX3BhcnRpY2lwYW50ICE9PSB1bmRlZmluZWQpIHtcclxuICAgIGZpZWxkcy5wdXNoKGBkaW5uZXJfcHJpY2VfcGVyX3BhcnRpY2lwYW50ID0gJCR7cGFyYW1Db3VudCsrfWApO1xyXG4gICAgdmFsdWVzLnB1c2goY2F0ZXJpbmdPcHRpb24uZGlubmVyX3ByaWNlX3Blcl9wYXJ0aWNpcGFudCk7XHJcbiAgfVxyXG4gIGlmIChjYXRlcmluZ09wdGlvbi5pc19hY3RpdmUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgZmllbGRzLnB1c2goYGlzX2FjdGl2ZSA9ICQke3BhcmFtQ291bnQrK31gKTtcclxuICAgIHZhbHVlcy5wdXNoKGNhdGVyaW5nT3B0aW9uLmlzX2FjdGl2ZSk7XHJcbiAgfVxyXG5cclxuICBpZiAoZmllbGRzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIGN1cnJlbnQ7XHJcblxyXG4gIGZpZWxkcy5wdXNoKGB1cGRhdGVkX2F0ID0gTk9XKClgKTtcclxuICB2YWx1ZXMucHVzaChpZCk7XHJcblxyXG4gIGNvbnN0IHJlcyA9IGF3YWl0IHBvb2wucXVlcnkoXHJcbiAgICBgVVBEQVRFIGNhdGVyaW5nX29wdGlvbnMgU0VUICR7ZmllbGRzLmpvaW4oJywgJyl9IFdIRVJFIGlkID0gJCR7cGFyYW1Db3VudH0gUkVUVVJOSU5HICpgLFxyXG4gICAgdmFsdWVzXHJcbiAgKTtcclxuICBcclxuICBjb25zdCByb3cgPSByZXMucm93c1swXTtcclxuICByZXR1cm4ge1xyXG4gICAgLi4ucm93LFxyXG4gICAgbHVuY2hfcHJpY2VfcGVyX3BhcnRpY2lwYW50OiBOdW1iZXIocm93Lmx1bmNoX3ByaWNlX3Blcl9wYXJ0aWNpcGFudCksXHJcbiAgICBkaW5uZXJfcHJpY2VfcGVyX3BhcnRpY2lwYW50OiBOdW1iZXIocm93LmRpbm5lcl9wcmljZV9wZXJfcGFydGljaXBhbnQpLFxyXG4gICAgaXNfYWN0aXZlOiBCb29sZWFuKHJvdy5pc19hY3RpdmUpLFxyXG4gIH07XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWxldGVDYXRlcmluZ09wdGlvbihpZDogbnVtYmVyKTogUHJvbWlzZTxib29sZWFuPiB7XHJcbiAgY29uc3QgcmVzID0gYXdhaXQgcG9vbC5xdWVyeSgnREVMRVRFIEZST00gY2F0ZXJpbmdfb3B0aW9ucyBXSEVSRSBpZCA9ICQxJywgW2lkXSk7XHJcbiAgcmV0dXJuIChyZXMucm93Q291bnQgPz8gMCkgPiAwO1xyXG59IFxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEFsbFRyYWluaW5nUm9vbVJlbnRPcHRpb25zKCk6IFByb21pc2U8VHJhaW5pbmdSb29tUmVudE9wdGlvbltdPiB7XHJcbiAgY29uc3QgcmVzID0gYXdhaXQgcG9vbC5xdWVyeSgnU0VMRUNUICogRlJPTSB0cmFpbmluZ19yb29tX3JlbnRfb3B0aW9ucyBPUkRFUiBCWSBuYW1lIEFTQycpO1xyXG4gIHJldHVybiByZXMucm93cy5tYXAocm93ID0+ICh7XHJcbiAgICAuLi5yb3csXHJcbiAgICByZW50X3Blcl9ob3VyOiBOdW1iZXIocm93LnJlbnRfcGVyX2hvdXIpLFxyXG4gICAgaXNfYWN0aXZlOiBCb29sZWFuKHJvdy5pc19hY3RpdmUpLFxyXG4gIH0pKTtcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFRyYWluaW5nUm9vbVJlbnRPcHRpb25CeUlkKGlkOiBudW1iZXIpOiBQcm9taXNlPFRyYWluaW5nUm9vbVJlbnRPcHRpb24gfCB1bmRlZmluZWQ+IHtcclxuICBjb25zdCByZXMgPSBhd2FpdCBwb29sLnF1ZXJ5KCdTRUxFQ1QgKiBGUk9NIHRyYWluaW5nX3Jvb21fcmVudF9vcHRpb25zIFdIRVJFIGlkID0gJDEnLCBbaWRdKTtcclxuICBpZiAoIXJlcy5yb3dzWzBdKSByZXR1cm4gdW5kZWZpbmVkO1xyXG4gIGNvbnN0IHJvdyA9IHJlcy5yb3dzWzBdO1xyXG4gIHJldHVybiB7XHJcbiAgICAuLi5yb3csXHJcbiAgICByZW50X3Blcl9ob3VyOiBOdW1iZXIocm93LnJlbnRfcGVyX2hvdXIpLFxyXG4gICAgaXNfYWN0aXZlOiBCb29sZWFuKHJvdy5pc19hY3RpdmUpLFxyXG4gIH07XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVUcmFpbmluZ1Jvb21SZW50T3B0aW9uKG9wdGlvbjogT21pdDxUcmFpbmluZ1Jvb21SZW50T3B0aW9uLCAnaWQnIHwgJ2NyZWF0ZWRfYXQnIHwgJ3VwZGF0ZWRfYXQnPik6IFByb21pc2U8VHJhaW5pbmdSb29tUmVudE9wdGlvbj4ge1xyXG4gIGNvbnN0IHJlcyA9IGF3YWl0IHBvb2wucXVlcnkoXHJcbiAgICAnSU5TRVJUIElOVE8gdHJhaW5pbmdfcm9vbV9yZW50X29wdGlvbnMgKG5hbWUsIGRlc2NyaXB0aW9uLCByZW50X3Blcl9ob3VyLCBpc19hY3RpdmUpIFZBTFVFUyAoJDEsICQyLCAkMywgJDQpIFJFVFVSTklORyAqJyxcclxuICAgIFtcclxuICAgICAgb3B0aW9uLm5hbWUsXHJcbiAgICAgIG9wdGlvbi5kZXNjcmlwdGlvbiB8fCAnJyxcclxuICAgICAgb3B0aW9uLnJlbnRfcGVyX2hvdXIsXHJcbiAgICAgIG9wdGlvbi5pc19hY3RpdmUgPz8gdHJ1ZSxcclxuICAgIF1cclxuICApO1xyXG4gIGNvbnN0IHJvdyA9IHJlcy5yb3dzWzBdO1xyXG4gIHJldHVybiB7XHJcbiAgICAuLi5yb3csXHJcbiAgICByZW50X3Blcl9ob3VyOiBOdW1iZXIocm93LnJlbnRfcGVyX2hvdXIpLFxyXG4gICAgaXNfYWN0aXZlOiBCb29sZWFuKHJvdy5pc19hY3RpdmUpLFxyXG4gIH07XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cGRhdGVUcmFpbmluZ1Jvb21SZW50T3B0aW9uKGlkOiBudW1iZXIsIG9wdGlvbjogUGFydGlhbDxPbWl0PFRyYWluaW5nUm9vbVJlbnRPcHRpb24sICdpZCcgfCAnY3JlYXRlZF9hdCcgfCAndXBkYXRlZF9hdCc+Pik6IFByb21pc2U8VHJhaW5pbmdSb29tUmVudE9wdGlvbiB8IHVuZGVmaW5lZD4ge1xyXG4gIGNvbnN0IGN1cnJlbnQgPSBhd2FpdCBnZXRUcmFpbmluZ1Jvb21SZW50T3B0aW9uQnlJZChpZCk7XHJcbiAgaWYgKCFjdXJyZW50KSByZXR1cm4gdW5kZWZpbmVkO1xyXG4gIGNvbnN0IGZpZWxkcyA9IFtdO1xyXG4gIGNvbnN0IHZhbHVlcyA9IFtdO1xyXG4gIGxldCBwYXJhbUNvdW50ID0gMTtcclxuICBpZiAob3B0aW9uLm5hbWUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgZmllbGRzLnB1c2goYG5hbWUgPSAkJHtwYXJhbUNvdW50Kyt9YCk7XHJcbiAgICB2YWx1ZXMucHVzaChvcHRpb24ubmFtZSk7XHJcbiAgfVxyXG4gIGlmIChvcHRpb24uZGVzY3JpcHRpb24gIT09IHVuZGVmaW5lZCkge1xyXG4gICAgZmllbGRzLnB1c2goYGRlc2NyaXB0aW9uID0gJCR7cGFyYW1Db3VudCsrfWApO1xyXG4gICAgdmFsdWVzLnB1c2gob3B0aW9uLmRlc2NyaXB0aW9uKTtcclxuICB9XHJcbiAgaWYgKG9wdGlvbi5yZW50X3Blcl9ob3VyICE9PSB1bmRlZmluZWQpIHtcclxuICAgIGZpZWxkcy5wdXNoKGByZW50X3Blcl9ob3VyID0gJCR7cGFyYW1Db3VudCsrfWApO1xyXG4gICAgdmFsdWVzLnB1c2gob3B0aW9uLnJlbnRfcGVyX2hvdXIpO1xyXG4gIH1cclxuICBpZiAob3B0aW9uLmlzX2FjdGl2ZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICBmaWVsZHMucHVzaChgaXNfYWN0aXZlID0gJCR7cGFyYW1Db3VudCsrfWApO1xyXG4gICAgdmFsdWVzLnB1c2gob3B0aW9uLmlzX2FjdGl2ZSk7XHJcbiAgfVxyXG4gIGlmIChmaWVsZHMubGVuZ3RoID09PSAwKSByZXR1cm4gY3VycmVudDtcclxuICBmaWVsZHMucHVzaChgdXBkYXRlZF9hdCA9IE5PVygpYCk7XHJcbiAgdmFsdWVzLnB1c2goaWQpO1xyXG4gIGNvbnN0IHJlcyA9IGF3YWl0IHBvb2wucXVlcnkoXHJcbiAgICBgVVBEQVRFIHRyYWluaW5nX3Jvb21fcmVudF9vcHRpb25zIFNFVCAke2ZpZWxkcy5qb2luKCcsICcpfSBXSEVSRSBpZCA9ICQke3BhcmFtQ291bnR9IFJFVFVSTklORyAqYCxcclxuICAgIHZhbHVlc1xyXG4gICk7XHJcbiAgY29uc3Qgcm93ID0gcmVzLnJvd3NbMF07XHJcbiAgcmV0dXJuIHtcclxuICAgIC4uLnJvdyxcclxuICAgIHJlbnRfcGVyX2hvdXI6IE51bWJlcihyb3cucmVudF9wZXJfaG91ciksXHJcbiAgICBpc19hY3RpdmU6IEJvb2xlYW4ocm93LmlzX2FjdGl2ZSksXHJcbiAgfTtcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRlbGV0ZVRyYWluaW5nUm9vbVJlbnRPcHRpb24oaWQ6IG51bWJlcik6IFByb21pc2U8Ym9vbGVhbj4ge1xyXG4gIGNvbnN0IHJlcyA9IGF3YWl0IHBvb2wucXVlcnkoJ0RFTEVURSBGUk9NIHRyYWluaW5nX3Jvb21fcmVudF9vcHRpb25zIFdIRVJFIGlkID0gJDEnLCBbaWRdKTtcclxuICByZXR1cm4gKHJlcy5yb3dDb3VudCA/PyAwKSA+IDA7XHJcbn0gIl0sIm5hbWVzIjpbIlBvb2wiLCJiY3J5cHQiLCJwb29sIiwiY29ubmVjdGlvblN0cmluZyIsInByb2Nlc3MiLCJlbnYiLCJEQVRBQkFTRV9VUkwiLCJzc2wiLCJpbmNsdWRlcyIsInJlamVjdFVuYXV0aG9yaXplZCIsImdldEFsbFRyYWluaW5nSW52b2ljZXMiLCJyZXMiLCJxdWVyeSIsInJvd3MiLCJtYXAiLCJkZXNlcmlhbGl6ZUludm9pY2UiLCJnZXRUcmFpbmluZ0ludm9pY2VCeUlkIiwiaWQiLCJ1bmRlZmluZWQiLCJjcmVhdGVUcmFpbmluZ0ludm9pY2UiLCJpbnZvaWNlIiwiaW52b2ljZV9udW1iZXIiLCJpbnZvaWNlX2RhdGUiLCJjdXN0b21lciIsInRyYWluaW5nX25hbWUiLCJKU09OIiwic3RyaW5naWZ5IiwidHJhaW5pbmdfZGF0ZXMiLCJkdXJhdGlvbl9kYXlzIiwidHJhaW5lcl9jb3N0cyIsIm9mZmljZV9jb3N0cyIsIm1hcmdpbl9wZXJjZW50YWdlIiwidG90YWxfaW52b2ljZV9hbW91bnQiLCJ0cmFpbmVyX2F2YWlsYWJpbGl0eV9lbWFpbGVkIiwibWFzdGVyY2xhc3NfcGxhbm5pbmdfYWRkZWQiLCJsbXNfdXBkYXRlZCIsIm5hdmFyYV9ldmVudF9hZ2VuZGFfdXBkYXRlZCIsImNhdGVyaW5nX29yZGVyZWQiLCJ0cmFpbmVyX2ludm9pY2VfcmVjZWl2ZWQiLCJ1cGRhdGVUcmFpbmluZ0ludm9pY2UiLCJjdXJyZW50IiwidXBkYXRlZCIsImRlbGV0ZVRyYWluaW5nSW52b2ljZSIsInJvd0NvdW50IiwiZ2V0UGFydGljaXBhbnRzQnlJbnZvaWNlIiwidHJhaW5pbmdfaW52b2ljZV9pZCIsImFkZFBhcnRpY2lwYW50IiwicGFydGljaXBhbnQiLCJuYW1lIiwiZW1haWwiLCJjb21wYW55IiwidXBkYXRlUGFydGljaXBhbnQiLCJnZXRQYXJ0aWNpcGFudEJ5SWQiLCJkZWxldGVQYXJ0aWNpcGFudCIsImNhbGN1bGF0ZVRvdGFsQW1vdW50IiwidHJhaW5lckNvc3RzIiwib2ZmaWNlQ29zdHMiLCJtYXJnaW5QZXJjZW50YWdlIiwibWFyZ2luQW1vdW50Iiwicm93IiwicGFyc2UiLCJOdW1iZXIiLCJCb29sZWFuIiwiZ2V0QWxsVXNlcnMiLCJnZXRVc2VyQnlJZCIsImdldFVzZXJCeVVzZXJuYW1lIiwidXNlcm5hbWUiLCJjcmVhdGVVc2VyIiwidXNlciIsInBhc3N3b3JkIiwicm9sZSIsInVwZGF0ZVVzZXIiLCJmaWVsZHMiLCJ2YWx1ZXMiLCJwYXJhbUNvdW50IiwicHVzaCIsImxlbmd0aCIsImpvaW4iLCJ1cGRhdGVVc2VyUGFzc3dvcmQiLCJkZWxldGVVc2VyIiwiaW5pdGlhbGl6ZURlZmF1bHRBZG1pbiIsImV4aXN0aW5nQWRtaW4iLCJoYXNoZWRQYXNzd29yZCIsImhhc2giLCJnZXRBbGxDYXRlcmluZ09wdGlvbnMiLCJsdW5jaF9wcmljZV9wZXJfcGFydGljaXBhbnQiLCJkaW5uZXJfcHJpY2VfcGVyX3BhcnRpY2lwYW50IiwiaXNfYWN0aXZlIiwiZ2V0Q2F0ZXJpbmdPcHRpb25CeUlkIiwiY3JlYXRlQ2F0ZXJpbmdPcHRpb24iLCJjYXRlcmluZ09wdGlvbiIsImRlc2NyaXB0aW9uIiwidXBkYXRlQ2F0ZXJpbmdPcHRpb24iLCJkZWxldGVDYXRlcmluZ09wdGlvbiIsImdldEFsbFRyYWluaW5nUm9vbVJlbnRPcHRpb25zIiwicmVudF9wZXJfaG91ciIsImdldFRyYWluaW5nUm9vbVJlbnRPcHRpb25CeUlkIiwiY3JlYXRlVHJhaW5pbmdSb29tUmVudE9wdGlvbiIsIm9wdGlvbiIsInVwZGF0ZVRyYWluaW5nUm9vbVJlbnRPcHRpb24iLCJkZWxldGVUcmFpbmluZ1Jvb21SZW50T3B0aW9uIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/database.pg.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/bcryptjs","vendor-chunks/zod"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Ftraining-invoices%2Froute&page=%2Fapi%2Ftraining-invoices%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Ftraining-invoices%2Froute.ts&appDir=C%3A%5CUsers%5Cwesle%5COneDrive%5CDocumenten%5CWesley%20code%5CFinance%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cwesle%5COneDrive%5CDocumenten%5CWesley%20code%5CFinance&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();